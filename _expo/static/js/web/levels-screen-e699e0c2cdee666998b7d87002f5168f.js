__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),a=e(_r(d[5])),i=(e(_r(d[6])),e(_r(d[7]))),l=e(_r(d[8])),s=_r(d[9]),u=_r(d[10]),f=e(_r(d[11])),c=e(_r(d[12])),p=_r(d[13]),h=e(_r(d[14])),y=_r(d[15]),x=_r(d[16]),j=_r(d[17]),v=_r(d[18]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}_e.default=({route:e,navigation:b})=>{const{topic:w}=e.params,k=(0,f.default)((e=>e.levels)),_=(0,f.default)((e=>e.openedTopicLevel)),O=(0,f.default)((e=>e.fetchLevels)),L=(0,f.default)((e=>e.levelsAreRefreshing)),B=(0,f.default)((e=>e.levelsAreLoading)),C=(0,c.default)((e=>e.isRevisionMode));(0,h.default)((e=>e.makeStatusBarToGreenBackground)),(0,h.default)((e=>e.makeStatusBarToPurpleBackground));(0,t.useEffect)((()=>{O({topic:w,type:C?'revision':'study'})}),[C,w]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.TopMenuBar3,{title:_?.title,progress:_?.user_progress?.score}),(0,v.jsxs)(n.default,{style:{flex:1,paddingHorizontal:10,gap:5,paddingTop:5},children:[(0,v.jsx)(n.default,{style:{position:'absolute',top:0,left:0,right:0,zIndex:10,marginBottom:10},children:(0,v.jsx)(j.BlurView,{intensity:30,tint:"light",style:{paddingHorizontal:14,paddingVertical:10,alignItems:'flex-end'},children:(0,v.jsx)(l.default,{style:{fontSize:24,color:i.default.backgroundLinear1,textAlign:'right'},useAlexandria:!0,fontWeight:"regular",children:"\u0627\u0644\u0645\u0633\u062a\u0648\u064a\u0627\u062a"})})}),B?(0,v.jsx)(n.default,{style:{paddingTop:55},children:(0,v.jsx)(p.CardSkeletonGroup,{height:85,nb_card:3})}):(0,v.jsx)(a.default,{data:k,renderItem:({item:e,index:t})=>(0,v.jsx)(s.LevelCard,{item:e}),keyExtractor:e=>e.id,contentContainerStyle:{flexGrow:1,gap:7,paddingTop:55},ListFooterComponent:()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n.default,{style:{height:80}}),(0,v.jsx)(x.BottomMenuEmptySpace,{})]}),showsVerticalScrollIndicator:!1,refreshControl:(0,v.jsx)(r.default,{refreshing:L,onRefresh:()=>{O({topic:w,type:C?'revision':'study'})},colors:[i.default.backgroundLinear1],tintColor:i.default.backgroundLinear1,progressViewOffset:55})}),(0,v.jsx)(o.default,{style:{position:'absolute',bottom:50,right:20,justifyContent:'center',alignItems:'center',borderRadius:50,width:50,height:50,backgroundColor:i.default.backgroundLinear1,elevation:5,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:3,transform:[{scaleX:-1}]},onPress:()=>b.goBack(),children:(0,v.jsx)(y.ArrowLeftIcon,{size:30})})]})]})}}),1571,[1,16,324,281,1100,317,85,366,1101,1611,1553,1556,1552,1537,365,1555,1539,1540,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.LevelCard=void 0;var t=e(_r(d[1])),l=_r(d[2]),r=_r(d[3]),i=e(_r(d[4])),n=e(_r(d[5])),o=(e(_r(d[6])),e(_r(d[7]))),s=e(_r(d[8])),a=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=u(t);if(l&&l.has(e))return l.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,l&&l.set(e,r),r})(_r(d[9])),f=e(_r(d[10])),c=_r(d[11]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(u=function(e){return e?l:t})(e)}_e.LevelCard=({item:e})=>{const a=(0,l.useNavigation)();return(0,c.jsxs)(o.default,{onPress:()=>{e.is_unlocked&&a.navigate(n.default.QuizNavigation,{level:e})},style:{flexDirection:'row',alignItems:'center',gap:10,backgroundColor:i.default.white,borderRadius:15,borderWidth:1.5,borderColor:i.default.borderColor,paddingVertical:16,paddingHorizontal:10,opacity:e.is_unlocked?1:.4},children:[(0,c.jsx)(s.default,{style:{flex:1,gap:4},children:(0,c.jsxs)(s.default,{style:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},children:[(0,c.jsx)(s.default,{children:e?.user_progress?.score>0&&(0,c.jsxs)(t.default,{style:{color:(0,r.getScoreColor)(e?.user_progress?.score)},fontWeight:"extraBold",children:[(0,r.convertScoreTo20)(e?.user_progress?.score),"/20"]})}),(0,c.jsxs)(s.default,{style:{flex:1,alignItems:'flex-end'},children:[(0,c.jsx)(t.default,{style:{fontSize:16,textAlign:'right'},fontWeight:"bold",numberOfLines:2,ellipsizeMode:"tail",children:e.title}),(0,c.jsxs)(t.default,{style:{fontSize:12,color:i.default.grey,direction:'rtl'},children:["\u2022 ",e.nb_questions," ",e.nb_unit||'\u0627\u0633\u0626\u0644\u0629']})]})]})}),(0,c.jsx)(s.default,{children:(0,c.jsx)(h,{level:e.level_number,size:50,textContainerStyle:{bottom:2},textStyle:{fontSize:24}})})]})};const h=({size:e=74,level:l=1,textContainerStyle:r,textStyle:n})=>{(0,f.default)((e=>e.isRevisionMode));return(0,c.jsxs)(s.default,{style:{position:'relative'},children:[(0,c.jsx)(s.default,{style:[{position:'absolute',bottom:10,left:0,right:0,zIndex:99},r],children:(0,c.jsx)(t.default,{style:[{textAlign:'center',fontSize:24,fontWeight:'black',color:i.default.backgroundLinear1},n],fontWeight:"extraBold",children:l})}),(0,c.jsxs)(a.default,{width:e,height:e,viewBox:"0 0 74 74",fill:"none",style:{position:'relative'},children:[(0,c.jsxs)(a.G,{clipPath:"url(#clip0_25_5244)",children:[(0,c.jsx)(a.Rect,{x:.0419922,width:74,height:74,rx:23.6339,fill:i.default.iconBackground}),(0,c.jsx)(a.Rect,{x:9.49561,y:18.9072,width:56.7213,height:77.9917,rx:9.45354,fill:"#fff"})]}),(0,c.jsxs)(a.Defs,{children:[(0,c.jsx)(a.ClipPath,{id:"clip0_25_5244",children:(0,c.jsx)(a.Rect,{x:.0419922,width:74,height:74,rx:23.6339,fill:"#fff"})}),(0,c.jsx)(a.ClipPath,{id:"clip1_25_5244",children:(0,c.jsx)(a.Path,{fill:"#fff",transform:"translate(21.313 30.724)",d:"M0 0H33.0874V33.0874H0z"})})]})]})]})}}),1611,[1,1101,857,1543,366,973,16,1100,281,1486,1552,370]);