__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r})(_r(d[1])),n=_r(d[2]),r=e(_r(d[3])),a=_r(d[4]),o=_r(d[5]),u=_r(d[6]),i=_r(d[7]),l=_r(d[8]),s=e(_r(d[9])),c=_r(d[10]),f=_r(d[11]),p=_r(d[12]),j=_r(d[13]),y=e(_r(d[14])),x=e(_r(d[15])),h=_r(d[16]);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}_e.default=({route:e})=>{(0,y.default)((e=>e.makeStatusBarToGreenBackground)),(0,y.default)((e=>e.makeStatusBarToPurpleBackground)),(0,x.default)((e=>e.isRevisionMode));return(0,h.jsx)(n.QuizProvider,{route:e,children:(0,h.jsx)(z,{})})};const z=()=>{const{currentQuiz:e,isLoading:t,skeletonLoading:r}=(0,n.useQuiz)();return r?(0,h.jsx)(b,{}):(0,h.jsxs)(h.Fragment,{children:['flashCard'===e?.category?.name&&(0,h.jsx)(c.QuizIntroScreen,{}),'matching'===e?.category?.name&&(0,h.jsx)(j.QuizMatchingScreen,{}),'fillBlank'===e?.category?.name&&'single'===e?.type&&(0,h.jsx)(p.QuizFillBlankScreen,{}),'trueFalse'===e?.category?.name&&'single'===e?.type&&(0,h.jsx)(f.QuizTrueFalseScreen,{})]})},b=()=>{const{handleSetTitleComponent:e}=(0,n.useQuiz)();return(0,t.useEffect)((()=>{e((0,h.jsx)(r.default,{style:{width:'100%',height:30},children:(0,h.jsx)(a.GeneralSkeleton,{})}))}),[]),(0,h.jsx)(l.QuizLayout,{thisQuiz:[],children:(0,h.jsxs)(r.default,{style:{flex:1,paddingHorizontal:o.paddingHorizontal,paddingTop:10,backgroundColor:s.default.background},children:[(0,h.jsx)(u.AnimatedFlipCard,{front:'Wajed',back:'Wajed',isLoading:!0}),(0,h.jsx)(r.default,{style:{marginTop:'auto',marginBottom:40},children:(0,h.jsx)(i.SubmitButton,{enabledText:'\u0648\u0627\u062c\u062f',onPress:()=>{}})})]})})}}),1572,[1,16,1612,281,1538,1545,1614,1483,1615,366,1617,1618,1624,1625,365,1552,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useQuiz=_e.QuizProvider=void 0;var t=_r(d[1]),s=e(_r(d[2])),r=_r(d[3]),a=e(_r(d[4])),n=_r(d[5]),o=_r(d[6]),l=e(_r(d[7])),i=_r(d[8]),u=e(_r(d[9])),c=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=b(t);if(s&&s.has(e))return s.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}return r.default=e,s&&s.set(e,r),r})(_r(d[10])),f=(e(_r(d[11])),e(_r(d[12])),e(_r(d[13]))),p=e(_r(d[14])),h=e(_r(d[15])),y=e(_r(d[16])),S=e(_r(d[17])),v=e(_r(d[18])),x=_r(d[19]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(b=function(e){return e?s:t})(e)}const _=(0,c.createContext)(null);_e.QuizProvider=({route:e,children:b})=>{const[j,z]=(0,c.useState)(u.default.backgroundLinear1),[w,k]=(0,c.useState)(u.default.backgroundLinear2),{level:C,quizSession:B}=e.params,O=(0,o.useNavigation)(),P=(0,p.default)((e=>e.triggerCongrats)),T=((0,y.default)((e=>e.isRevisionMode)),(0,S.default)((e=>e.unlockNextLevel))),[A,E]=(0,c.useState)(!1),[q,Q]=(0,c.useState)(void 0),[L,M]=(0,c.useState)(void 0),[F,D]=(0,c.useState)(!1),[N,H]=(0,c.useState)(!0),[I,R]=(0,c.useState)([]),[W,$]=(0,c.useState)(void 0),G=async()=>{const e=p.default.getState().setNbHearts;try{D(!0);const t=await l.default.get('list/level/'+C.id);e(t.data.auth?.heart_stats?.nb_hearts||0),R(t.data.questions),M(t.data.level),Q(t.data.topic),$(t.data.topic?.title)}catch(e){console.error('error: ',e)}finally{D(!1),setTimeout((()=>{H(!1)}),300)}},J=async()=>{try{const e=await l.default.get('/sessions/show/'+B.id);R(e.data.questions),M(e.data.quiz_session),$(e.data.quiz_session?.title)}catch(e){console.error('error: ',e)}finally{D(!1),setTimeout((()=>{H(!1)}),300)}};(0,c.useEffect)((()=>{C?G():B&&J(),ue(!0)}),[]);const[K,U]=(0,c.useState)(void 0),V=(0,c.useCallback)((e=>{U(e)}),[]),[X,Y]=(0,c.useState)(!1),[Z,ee]=(0,c.useState)(0),[te,se]=(0,c.useState)(I[Z]),[re,ae]=(0,c.useState)(I.reduce(((e,t)=>(e[t.id]='notDone',e)),{}));(0,c.useEffect)((()=>{se(I[Z])}),[Z,I]),(0,c.useEffect)((()=>{I.length>0&&ae((e=>Object.assign({},e,{[I[0]?.id]:'current'})))}),[I]);const ne=()=>{if(X)return Ae('\u0644\u0642\u062f \u0646\u0641\u062f\u062a \u0642\u0644\u0648\u0628\u0643. \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u064b\u0627.'),qe('\u062e\u0631\u0648\u062c'),O.goBack(),null;const e=I.some((e=>'flashCard'===e.category?.name))?I.length-1:I.length;if(Z<I.length-1){ee(Z+1);const e=I[Z+1]?.id;ae((t=>Object.assign({},t,{[e]:'current'})))}else{const t=Math.round(pe/e*100);ye(t),E(!0),ue(!1),Pe(t)}},[oe,le]=(0,c.useState)(0),[ie,ue]=(0,c.useState)(!1);(0,c.useEffect)((()=>{let e;return ie&&(e=setInterval((()=>{le((e=>e+1))}),1e3)),()=>clearInterval(e)}),[ie]);const de=(0,p.default)((e=>e.nbHearts)),ce=(0,p.default)((e=>e.setNbHearts)),ge=(0,p.default)((e=>e.deductHeart)),fe=(0,p.default)((e=>e.addMoreHearts)),[pe,he]=(0,c.useState)(0),[me,ye]=(0,c.useState)(null),[Se,ve]=(0,c.useState)(!1),xe=(0,h.default)((e=>e.updateModuleProgress)),be=(0,y.default)((e=>e.updateTopicProgress)),je=(0,S.default)((e=>e.updateLevelProgress)),ze=async e=>{if(!Se)try{const t=I.some((e=>'flashCard'===e.category?.name)),s=(t?I.length-1:I.length)-pe,r=await l.default.post('progress/submit',{level_id:L.id,score:e,attempts:(L?.user_progress?.attempts||0)+1,time_spent:oe,wrong_answers:s}),{data:a}=r.data;je(a.level.id,a.level.user_progress),a.topics.forEach((e=>{be(e.id,e.user_progress,[a.level])})),xe(a.module.id,a.module.user_progress,a.topics),r.data.hearts_awarded&&(P(),fe(r.data.hearts_awarded)),ce(r.data.data.level.user_progress.hearts||de),ve(!0)}catch(e){console.error('Error submitting level progress:',e)}},we=(0,v.default)((e=>e.updateQuizSessionLocally)),ke=async e=>{const t=(I.some((e=>'flashCard'===e.category?.name))?I.length-1:I.length)-pe;try{const s=await l.default.post('sessions/progress/submit',{quiz_session_id:B.id,score:e,attempts:(L?.user_progress?.attempts||0)+1,time_spent:oe,wrong_answers:t});we(B.id,s.data.quiz_session),s.data.hearts_awarded&&(P(),fe(s.data.hearts_awarded)),ve(!0)}catch(e){console.error('Error submitting level progress:',e)}},Ce=e=>{const t={id:`recap-${e.category}-${Date.now()}`,category:e.category,type:'single',title:"\u0645\u0631\u0627\u062c\u0639\u0629: "+('trueFalse'===e.category?'\u0623\u062c\u0628 \u0628\u0635\u062d\u064a\u062d \u0623\u0645 \u062e\u0637\u0623':'\u0627\u0643\u0645\u0644 \u0627\u0644\u0641\u0631\u0627\u063a'),items:e.items,isRecap:!1};R((e=>{const s=[...e],r=s.length-1;return s.splice(r,0,t),s}))},{openBottomSheet:Be,hideBottomSheet:Oe}=(0,n.useBottomSheet)(),Pe=e=>{const t=I.some((e=>'flashCard'===e.category?.name))?I.length-1:I.length;Be((0,x.jsxs)(f.default,{style:{padding:16},children:[(0,x.jsx)(a.default,{style:{fontSize:24,textAlign:'center',color:'#333'},children:"\u0627\u0646\u062a\u0647\u062a \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u0627\u062a!"}),(0,x.jsx)(s.default,{size:150,strokeWidth:10,progress:e,progressColor:"#3D84EE",backgroundColor:"#EFEEFC",textColor:"#333"}),(0,x.jsxs)(a.default,{style:{fontSize:18,textAlign:'center',color:'#666',marginTop:8},children:["\u0644\u0642\u062f \u0623\u062c\u0628\u062a \u0639\u0644\u0649 ",pe," \u0645\u0646 ",t," \u0623\u0633\u0626\u0644\u0629 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d. \u0627\u0644\u0642\u0644\u0648\u0628: ",de]}),(0,x.jsx)(r.SubmitButton,{enabledText:'\u0625\u063a\u0644\u0627\u0642',onPress:async()=>{null!==e&&(C?(await ze(e),T(L.id,e)):B&&ke(e)),Oe(),O.goBack()},style:{marginBottom:30}})]}),[460,500])},[Te,Ae]=(0,c.useState)('\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u061f'),[Ee,qe]=(0,c.useState)('\u0646\u0639\u0645 \u062a\u0648\u0642\u0641'),Qe=()=>(E(!0),Be((0,x.jsx)(t.BottomSheetComponent,{title:Te,rightComponent:(0,x.jsx)(r.SubmitButton,{enabledText:Ee,onPress:()=>{Oe(),O.goBack()},style:{marginTop:0,backgroundColor:u.default.wrongAnswer}})}),[200,200],null,(()=>{E(!1)})),!0);(0,o.useFocusEffect)((0,c.useCallback)((()=>{const e=O.addListener('beforeRemove',(e=>{A||(e.preventDefault(),Qe())}));return()=>{e()}}),[Qe,O,A]));const Le={quizzes:I,quizTitle:W,currentQuiz:te,currentQuizIndex:Z,nextQuiz:ne,previousQuiz:()=>{if(Z>0){ee(Z-1);const e=I[Z-1]?.id;ae((t=>Object.assign({},t,{[e]:'current'})))}},startQuiz:()=>{ee(1),se(I[1]),ae((e=>Object.assign({},e,{[I[1]?.id]:'current',[I[0]?.id]:'correct'})))},quizStatus:re,handleProgressStatus:async({quizId:e,isCorrect:t})=>{const s=I.find((e=>'flashCard'===e.category?.name)),n=s?.id;if(t)n&&e===n||((0,i.hapticFeedback)('success'),he((e=>e+1)));else{(0,i.hapticFeedback)('error');if(await ge()<=0)return ue(!1),Y(!0),void Be((0,x.jsxs)(f.default,{style:{padding:16},children:[(0,x.jsx)(a.default,{style:{fontSize:24,textAlign:'center',color:u.default.wrongAnswer},children:"\u0646\u0641\u062f\u062a \u0627\u0644\u0642\u0644\u0648\u0628!"}),(0,x.jsx)(a.default,{style:{fontSize:18,textAlign:'center',color:'#666',marginTop:8},children:"\u0644\u0642\u062f \u0646\u0641\u062f\u062a \u0642\u0644\u0648\u0628\u0643. \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649 \u0644\u0627\u062d\u0642\u064b\u0627."}),(0,x.jsx)(r.SubmitButton,{enabledText:'\u0625\u063a\u0644\u0627\u0642',onPress:()=>{Oe(),O.goBack()}})]}),[230,260]);const t=I.find((t=>t?.id===e));t.isRecap||'trueFalse'!==t.category.name&&'fillBlank'!==t.category.name||Ce(t)}ae((s=>Object.assign({},s,{[e]:t?'correct':'incorrect'})))},TriggerBottomSheetOfQuizResult:({isCorrect:e,reason:t=null,extraCustomOnSubmit:s=null,correctAnswers:n=null})=>{Be((0,x.jsxs)(f.default,{style:{padding:16},children:[(0,x.jsx)(a.default,{style:{fontSize:24,textAlign:'center',color:e?u.default.correctAnswer:u.default.wrongAnswer},children:e?'\u0625\u062c\u0627\u0628\u0629 \u0635\u062d\u064a\u062d\u0629!':'\u0625\u062c\u0627\u0628\u0629 \u062e\u0627\u0637\u0626\u0629!'}),n&&(0,x.jsxs)(f.default,{style:{marginTop:16},children:[(0,x.jsx)(a.default,{style:{fontSize:16,textAlign:'center',color:'#333',marginBottom:8},children:"\u0627\u0644\u0625\u062c\u0627\u0628\u0627\u062a \u0627\u0644\u0635\u062d\u064a\u062d\u0629:"}),n.map(((e,t)=>(0,x.jsx)(a.default,{style:{fontSize:14,textAlign:'right',color:'#666'},children:e},t)))]}),t&&(0,x.jsx)(f.default,{style:{marginTop:10},children:(0,x.jsx)(a.default,{style:{fontSize:16,textAlign:'center',color:'#666'},children:t})}),(0,x.jsx)(r.SubmitButton,{enabledText:'\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u062a\u0627\u0644\u064a',onPress:()=>{Oe(),s&&s(),ne()},style:{marginBottom:30}})]}),[n?400:230,n?430:260],null,(()=>{s&&s()}))},isNavigatingBack:A,setIsNavigatingBack:E,handleOnBackPressed:Qe,titleComponent:K,handleSetTitleComponent:V,openedTopic:q,setOpenedTopic:Q,openedLevel:L,setOpenedLevel:M,isLoading:F,skeletonLoading:N,primaryBackgroundColor:j,secondaryBackgroundColor:w};return(0,x.jsx)(_.Provider,{value:Le,children:b})};_e.useQuiz=()=>(0,c.useContext)(_)}),1612,[1,1546,1536,1483,1101,372,857,799,1548,366,16,1069,85,281,974,1544,1552,1556,1613,370]);
__d((function(g,r,i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r(d[1]));const o=(0,r(d[2]).create)(((s,o)=>({sessions:[],loading:!1,error:null,refreshing:!1,fetchQuizSessions:async()=>{s({loading:!0,error:null});try{const o=await n.default.get('sessions/list');s({sessions:o.data,loading:!1})}catch(n){s({error:'Failed to fetch sessions',loading:!1})}finally{s({loading:!1,refreshing:!1})}},fetchDeleteThisSession:async o=>{s({loading:!0,error:null});try{await n.default.post(`sessions/delete/${o}`),s((s=>({sessions:s.sessions.filter((s=>s.id!==o)),loading:!1})))}catch(n){s({error:'Failed to delete session',loading:!1}),console.error('Delete error:',n)}},handleOnQuizSessionRefreshin:()=>{s({refreshing:!0}),o().fetchQuizSessions()},updateQuizSessionLocally:(n,o)=>{s((s=>({sessions:s.sessions.map((s=>s.id===n?Object.assign({},s,o):s))})))},addQuizSession:async n=>{s({loading:!0,error:null}),s((s=>({sessions:[...s.sessions,n],loading:!1})))}})));e.default=o}),1613,[1,799,367]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnimatedFlipCard=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),i=e(_r(d[4])),a=e(_r(d[5])),l=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[6])),o=_r(d[7]),u=e(_r(d[8])),s=_r(d[9]),c=_r(d[10]);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}const{width:p,height:h}=a.default.get('screen');_e.AnimatedFlipCard=({front:e,back:r,isLoading:a=!1})=>{const[f,p]=(0,l.useState)(!1),h=(0,l.useRef)(new n.default.Value(0)).current,j={transform:[{rotateX:h.interpolate({inputRange:[0,180],outputRange:['0deg','180deg']})}]},b={transform:[{rotateX:h.interpolate({inputRange:[0,180],outputRange:['180deg','360deg']})}]},[v,x]=(0,l.useState)(169);return(0,c.jsx)(i.default,{onPress:()=>{f?((0,o.hapticFeedback)('medium'),n.default.spring(h,{toValue:0,friction:8,tension:10,useNativeDriver:!0}).start()):((0,o.hapticFeedback)('soft'),n.default.spring(h,{toValue:180,friction:8,tension:10,useNativeDriver:!0}).start()),p(!f)},children:(0,c.jsxs)(t.default,{style:{position:'relative',height:169,paddingVertical:4},children:[(0,c.jsx)(n.default.View,{style:[{backgroundColor:'#092635'},y.card,j],children:a?(0,c.jsx)(t.default,{style:{width:'100%',height:'100%'},children:(0,c.jsx)(s.GeneralSkeleton,{})}):(0,c.jsx)(u.default,{style:y.text,children:e})}),(0,c.jsx)(n.default.View,{style:[{backgroundColor:'#5C8374'},y.card,b],children:a?(0,c.jsx)(t.default,{style:{width:'100%',height:'100%'},children:(0,c.jsx)(s.GeneralSkeleton,{})}):(0,c.jsx)(u.default,{style:y.text,children:r})})]})})};const y=r.default.create({card:{width:'100%',height:'100%',paddingHorizontal:20,paddingVertical:20,alignItems:'center',justifyContent:'center',borderRadius:5,position:'absolute',backfaceVisibility:'hidden'},text:{color:'#FFFFDD',textAlign:'right',fontSize:18}})}),1614,[1,281,29,486,1557,284,16,1548,1101,1538,370]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.QuizLayout=void 0;t(r(d[1]));var o=r(d[2]),n=t(r(d[3])),l=t(r(d[4])),s=t(r(d[5])),u=r(d[6]),c=t(r(d[7])),f=r(d[8]),h=r(d[9]),p=t(r(d[10])),x=r(d[11]);e.QuizLayout=({children:t,thisQuiz:y})=>{(0,p.default)((t=>t.isRevisionMode));if(null===y)return;const{handleOnBackPressed:b,titleComponent:j,quizTitle:C,openedLevel:v,primaryBackgroundColor:z,secondaryBackgroundColor:k}=(0,o.useQuiz)();return(0,x.jsxs)(l.default,{style:{flex:1,backgroundColor:s.default.background},children:[(0,x.jsx)(l.default,{style:{borderBottomStartRadius:26,borderBottomEndRadius:26,overflow:'hidden'},children:(0,x.jsxs)(l.default,{style:{backgroundColor:z,gap:14,paddingBottom:20,paddingTop:4},children:[(0,x.jsxs)(l.default,{style:{paddingHorizontal:10,paddingRight:20,backgroundColor:z,overflow:'hidden',flexDirection:'row',justifyContent:'space-between',alignItems:'center',gap:7},children:[(0,x.jsx)(n.default,{hitSlop:{top:20,left:20,right:40,bottom:20},onPress:b,style:{width:30,height:30},children:(0,x.jsx)(u.ChevronLeftIcon,{color:s.default.background,size:30})}),(0,x.jsxs)(l.default,{style:{flex:1,flexDirection:'row',alignItems:'center',justifyContent:'flex-end',gap:10},children:[v?.level_number&&(0,x.jsxs)(c.default,{style:{fontSize:16,color:'white'},children:["( ",v?.level_number||void 0," )"]}),(0,x.jsx)(c.default,{style:{flex:1,fontSize:16,color:'white',textAlign:'right'},numberOfLines:1,ellipsizeMode:"tail",children:C})]}),(0,x.jsx)(f.HeartStatsComponent,{plusIconColor:s.default.backgroundLinear2})]}),(0,x.jsx)(h.ProgressIndicator,{}),(0,x.jsx)(l.default,{style:{paddingVertical:20,paddingHorizontal:20,borderRadius:14,backgroundColor:k,marginHorizontal:20,justifyContent:'center',alignItems:'center'},children:j})]})}),t]})}}),1615,[1,16,1612,1100,281,366,1535,1101,1525,1616,1552,370]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressIndicator=void 0;t(r(d[1]));var o=t(r(d[2])),s=t(r(d[3])),n=r(d[4]),c=r(d[5]);e.ProgressIndicator=()=>{const{quizzes:t,quizStatus:s}=(0,n.useQuiz)(),l=t=>{switch(t){case'correct':return'#12AD41';case'incorrect':return'#FF0000';case'current':return'#FFA500';default:return'#FFFFFF20'}};return(0,c.jsx)(o.default,{style:u.container,children:t.map((t=>(0,c.jsx)(o.default,{style:[u.progressBar,{backgroundColor:l(s[t.id])}]},t.id)))})};const u=s.default.create({container:{flexDirection:'row-reverse',gap:10,paddingHorizontal:20},progressBar:{height:8,flex:1,borderRadius:100}})}),1616,[1,16,281,29,1612,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.QuizIntroScreen=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=_r(d[3]),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n})(_r(d[4])),u=e(_r(d[5])),a=e(_r(d[6])),i=_r(d[7]),l=_r(d[8]),c=_r(d[9]),f=_r(d[10]),s=e(_r(d[11])),p=_r(d[12]);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}_e.QuizIntroScreen=()=>{const{currentQuiz:e,startQuiz:y,handleSetTitleComponent:b}=(0,c.useQuiz)();(0,s.default)((e=>e.isRevisionMode));return(0,o.useEffect)((()=>{b((0,p.jsx)(t.default,{style:{color:r.default.white},children:e.title}))}),[e]),(0,p.jsx)(f.QuizLayout,{thisQuiz:e,children:(0,p.jsxs)(u.default,{style:{paddingHorizontal:n.paddingHorizontal,paddingTop:6,backgroundColor:r.default.background},children:[e?.items?.rows?.map(((e,t)=>(0,p.jsx)(a.default,{style:{paddingVertical:4},children:(0,p.jsx)(l.AnimatedFlipCard,{front:e.column1,back:e.column2})},t))),(0,p.jsx)(a.default,{style:{marginTop:'auto',marginBottom:40},children:(0,p.jsx)(i.SubmitButton,{enabledText:'\u0648\u0627\u062c\u062f',onPress:y,style:{backgroundColor:r.default.backgroundLinear1}})})]})})}}),1617,[1,1101,366,1545,16,283,281,1483,1614,1612,1615,1552,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.QuizTrueFalseScreen=void 0;var t=e(_r(d[1])),r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n})(_r(d[2])),n=_r(d[3]),o=_r(d[4]),s=e(_r(d[5])),u=e(_r(d[6])),i=_r(d[7]),l=e(_r(d[8])),a=_r(d[9]),c=e(_r(d[10])),f=_r(d[11]),p=e(_r(d[12])),h=_r(d[13]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}_e.QuizTrueFalseScreen=()=>{const{currentQuiz:e,nextQuiz:f,handleProgressStatus:b,TriggerBottomSheetOfQuizResult:x,handleSetTitleComponent:y}=(0,n.useQuiz)(),{hideBottomSheet:j}=(0,o.useBottomSheet)(),[w,C]=((0,c.default)((e=>e.isRevisionMode)),(0,r.useState)(null)),[O,z]=(0,r.useState)(!1),[v,A]=(0,r.useState)(!1),P=e.items.correctAnswer;(0,r.useEffect)((()=>{C(null),z(!1),A(!1)}),[e]);const _=(0,r.useMemo)((()=>(0,h.jsx)(t.default,{style:{color:l.default.white,fontSize:18,textAlign:'right'},children:e.items.question})),[e.items.question]);return(0,r.useEffect)((()=>{y(_)}),[y,_]),(0,h.jsx)(i.QuizLayout,{thisQuiz:e,children:(0,h.jsxs)(s.default,{contentContainerStyle:{flex:1,padding:16,backgroundColor:l.default.background},children:[(0,h.jsx)(u.default,{style:{gap:10},children:(0,h.jsx)(S,{userAnswer:w,handleAnswer:e=>{O||C(e)},isSubmitted:O,correctAnswer:P,options:e.items.options,isShowingCorrectAnswer:v})}),(0,h.jsx)(u.default,{style:{marginTop:'auto',marginBottom:20},children:O?(0,h.jsx)(a.SubmitButton,{enabledText:'\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u062a\u0627\u0644\u064a',onPress:()=>{j(),f()},style:{backgroundColor:l.default.backgroundLinear1}}):(0,h.jsx)(a.SubmitButton,{enabledText:'\u0648\u0627\u062c\u062f',onPress:()=>{console.log('currentQuiz?.items?.reason: ',e?.items?.reason),null!==w?(z(!0),A(!0),b({quizId:e.id,isCorrect:w===P}),x({isCorrect:w===P,reason:[e?.items?.reason],extraCustomOnSubmit:()=>A(!1)})):(0,p.default)('\u062e\u0637\u0623','\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0625\u062c\u0627\u0628\u0629 \u0642\u0628\u0644 \u0627\u0644\u0625\u0631\u0633\u0627\u0644.')},style:{backgroundColor:l.default.backgroundLinear1}})})]})})};const S=({userAnswer:e,handleAnswer:t,isSubmitted:r,correctAnswer:n,options:o,isShowingCorrectAnswer:s})=>(0,h.jsx)(u.default,{style:[],children:(0,h.jsx)(u.default,{style:{flexDirection:"column",marginTop:10,gap:10},children:o.map(((o,s)=>{const u=e===o,i=r?!!(o===n)||!u&&null:null;return(0,h.jsx)(f.OptionCard,{label:o,number:String.fromCharCode(65+s),isSelected:u,status:i,handleOnPress:()=>t(o)},s)}))})})}),1618,[1,1101,16,1612,372,283,281,1615,366,1483,1552,1619,975,370]);
__d((function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.OptionCard=void 0;o(r(d[1]));var l=o(r(d[2])),n=o(r(d[3])),t=r(d[4]),c=o(r(d[5])),s=o(r(d[6])),u=r(d[7]),C=r(d[8]),f=r(d[9]),b=r(d[10]),x=r(d[11]);e.OptionCard=({status:o=null,isSelected:j=!1,label:h="\u0625\u062c\u0627\u0628\u0629",number:p="\u0623",handleOnPress:y})=>{const{primaryBackgroundColor:w,secondaryBackgroundColor:k}=(0,b.useQuiz)();return(0,x.jsxs)(l.default,{onPress:y,style:[{flexDirection:'row',justifyContent:'space-between',alignItems:'center',gap:20,backgroundColor:s.default.white,borderRadius:20,borderWidth:2,borderColor:s.default.borderColor,paddingVertical:30,paddingHorizontal:20},j&&{borderColor:w},!0===o&&{backgroundColor:'#BFFFF0',borderColor:s.default.correctAnswer},!1===o&&{backgroundColor:'#F2482240',borderColor:s.default.wrongAnswer}],children:[(0,x.jsxs)(n.default,{children:[null===o&&!j&&(0,x.jsx)(t.EmptyCircleIcon,{}),null===o&&j&&(0,x.jsx)(f.SelectedCircleIcon,{color:w}),!0===o&&(0,x.jsx)(u.CorrectCircleIcon,{}),!1===o&&(0,x.jsx)(C.WrongCircleIcon,{})]}),(0,x.jsx)(n.default,{style:{flex:1},children:(0,x.jsx)(c.default,{style:{textAlign:'right'},children:h})}),(0,x.jsx)(n.default,{children:(0,x.jsx)(c.default,{style:{fontSize:14},children:p})})]})}}),1619,[1,16,1100,281,1620,1101,366,1621,1622,1623,1612,370]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.EmptyCircleIcon=void 0;n(_r(d[0]));var e=n(_r(d[1])),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var l=o?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(i,f,l):i[f]=e[f]}return i.default=e,n&&n.set(e,i),i}_e.EmptyCircleIcon=({size:r=24,isActive:n=!1})=>(0,t.jsx)(e.default,{width:r,height:r,viewBox:"0 0 24 25",fill:"none",children:(0,t.jsx)(e.Circle,{cx:12,cy:12.5,r:11,fill:"#fff",stroke:"#E6E6E6",strokeWidth:2})})}),1620,[16,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.CorrectCircleIcon=void 0;n(_r(d[0]));var e=n(_r(d[1])),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}_e.CorrectCircleIcon=({size:r=24,isActive:n=!1})=>(0,t.jsx)(e.default,{width:r,height:r,viewBox:"0 0 26 27",fill:"none",children:(0,t.jsx)(e.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M13 26.5a13 13 0 100-26 13 13 0 000 26zm-.335-7.742l7.222-8.667-2.219-1.849-6.21 7.452-3.215-3.215-2.042 2.042 4.333 4.334 1.118 1.118 1.013-1.215z",fill:"#4BB39B"})})}),1621,[16,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.WrongCircleIcon=void 0;n(_r(d[0]));var e=n(_r(d[1])),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var f=i?Object.getOwnPropertyDescriptor(e,l):null;f&&(f.get||f.set)?Object.defineProperty(o,l,f):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}_e.WrongCircleIcon=({size:r=24,isActive:n=!1})=>(0,t.jsx)(e.default,{width:r,height:r,viewBox:"0 0 26 27",fill:"none",children:(0,t.jsx)(e.Path,{d:"M13 0C5.832 0 0 5.832 0 13s5.832 13 13 13 13-5.832 13-13S20.168 0 13 0zm5.47 16.63l-1.84 1.84L13 14.837 9.37 18.47l-1.84-1.838L11.163 13 7.53 9.37l1.838-1.84L13 11.163l3.63-3.631 1.84 1.838L14.837 13l3.631 3.63z",fill:"#F24822"})})}),1622,[16,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.SelectedCircleIcon=void 0;var t=e(_r(d[1])),r=(i(_r(d[2])),i(_r(d[3]))),n=_r(d[4]);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var c=i?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(n,l,c):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}_e.SelectedCircleIcon=({size:e=24,color:o=t.default.iconActive})=>(0,n.jsx)(r.default,{width:e,height:e,viewBox:"0 0 24 25",fill:"none",children:(0,n.jsx)(r.Circle,{cx:12,cy:12.5,r:11,fill:"#fff",stroke:o,strokeWidth:2})})}),1623,[1,366,16,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.QuizFillBlankScreen=void 0;var t=e(_r(d[1])),n=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,n&&n.set(e,r),r})(_r(d[2])),r=_r(d[3]),o=_r(d[4]),l=e(_r(d[5])),i=e(_r(d[6])),s=_r(d[7]),u=e(_r(d[8])),a=_r(d[9]),c=e(_r(d[10])),f=_r(d[11]),h=e(_r(d[12])),p=_r(d[13]);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}_e.QuizFillBlankScreen=()=>{const{currentQuiz:e,nextQuiz:f,handleProgressStatus:b,TriggerBottomSheetOfQuizResult:x,handleSetTitleComponent:j}=(0,r.useQuiz)(),{hideBottomSheet:y}=(0,o.useBottomSheet)(),[w,_]=((0,c.default)((e=>e.isRevisionMode)),(0,n.useState)(null)),[C,z]=(0,n.useState)(!1),[O,k]=(0,n.useState)(!1),A=e.items.correctAnswer;(0,n.useEffect)((()=>{_(null),z(!1),k(!1)}),[e]);const v=(0,n.useMemo)((()=>{const n=e.items.question,r=n.split(/_{2,}/);return r.length<=1?(0,p.jsx)(t.default,{style:{color:u.default.white,fontSize:18,textAlign:'right'},children:n}):(0,p.jsxs)(t.default,{style:{color:u.default.white,fontSize:18,textAlign:'right'},children:[r[0],(0,p.jsx)(t.default,{style:{color:u.default.borderColor,fontSize:14},fontWeight:"bold",children:w||'_______'}),r.slice(1).join('')," "]})}),[e.items.question,w]);return(0,n.useEffect)((()=>{j(v)}),[j,v]),(0,p.jsx)(s.QuizLayout,{thisQuiz:e,children:(0,p.jsxs)(l.default,{contentContainerStyle:{flex:1,padding:16,backgroundColor:u.default.background},children:[(0,p.jsx)(i.default,{style:{gap:10},children:(0,p.jsx)(S,{userAnswer:w,handleAnswer:e=>{C||_(e)},isSubmitted:C,correctAnswer:A,options:e.items.options,isShowingCorrectAnswer:O})}),(0,p.jsx)(i.default,{style:{marginTop:'auto',marginBottom:20},children:C?(0,p.jsx)(a.SubmitButton,{enabledText:'\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u062a\u0627\u0644\u064a',onPress:()=>{y(),f()},style:{backgroundColor:u.default.backgroundLinear1}}):(0,p.jsx)(a.SubmitButton,{enabledText:'\u0648\u0627\u062c\u062f',onPress:()=>{null!==w?(z(!0),k(!0),b({quizId:e.id,isCorrect:w===A}),x({isCorrect:w===A,customText:w===A?'\u0644\u0642\u062f \u0627\u062e\u062a\u0631\u062a \u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629.':`\u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629 \u0647\u064a: ${A}`,extraCustomOnSubmit:()=>k(!1)})):(0,h.default)('\u062e\u0637\u0623','\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0625\u062c\u0627\u0628\u0629 \u0642\u0628\u0644 \u0627\u0644\u0625\u0631\u0633\u0627\u0644.')},style:{backgroundColor:u.default.backgroundLinear1}})})]})})};const S=({userAnswer:e,handleAnswer:t,isSubmitted:n,correctAnswer:r,options:o,isShowingCorrectAnswer:l})=>(0,p.jsx)(i.default,{style:[],children:(0,p.jsx)(i.default,{style:{flexDirection:"column",marginTop:10,gap:10},children:o.map(((o,l)=>{const i=e===o,s=n?!!(o===r)||!i&&null:null;return(0,p.jsx)(f.OptionCard,{label:o,number:String.fromCharCode(65+l),isSelected:i,status:s,handleOnPress:()=>t(o)},l)}))})})}),1624,[1,1101,16,1612,372,283,281,1615,366,1483,1552,1619,975,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.QuizMatchingScreen=void 0;var r=_r(d[1]),t=y(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),l=e(_r(d[5])),i=e(_r(d[6])),a=(e(_r(d[7])),y(_r(d[8]))),s=_r(d[9]),c=_r(d[10]),u=_r(d[11]),f=_r(d[12]),p=e(_r(d[13])),b=e(_r(d[14])),h=e(_r(d[15])),x=_r(d[16]);function v(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(v=function(e){return e?t:r})(e)}function y(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=n?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}return o.default=e,t&&t.set(e,o),o}const _=i.default.get('screen').width/2-40,D={code:"function quizMatchingScreenTsx1(){const{activeDroppable,droppableId}=this.__closure;return{backgroundColor:activeDroppable.value===droppableId?'rgba(0, 0, 255, 0.1)':'#fff',paddingHorizontal:4};}"},S={code:"function quizMatchingScreenTsx2({active:active,over:over}){const{runOnJS,onDragEnd,setActiveDroppableId,activeDroppable}=this.__closure;try{if(over){runOnJS(onDragEnd)(active.id,over.id);}else{console.warn('Drag ended without a valid drop target');runOnJS(setActiveDroppableId)(null);}activeDroppable.value=null;}catch(error){console.error('Error in handleDragEnd:',error);}}"},j={code:"function quizMatchingScreenTsx3({over:over}){const{activeDroppable,runOnJS,setActiveDroppableId}=this.__closure;try{if(over){activeDroppable.value=over.id;runOnJS(setActiveDroppableId)(over.id);}else{activeDroppable.value=null;runOnJS(setActiveDroppableId)(null);}}catch(error){console.error('Error in handleDragOver:',error);}}"};_e.QuizMatchingScreen=()=>{(0,h.default)((e=>e.isRevisionMode));const{currentQuiz:e,nextQuiz:o,handleProgressStatus:i,TriggerBottomSheetOfQuizResult:v,handleSetTitleComponent:y}=(0,s.useQuiz)();(0,t.useEffect)((()=>{console.log('currenbtquix: ',e)}),[e]);const{hideBottomSheet:C}=(0,f.useBottomSheet)(),O=e?.fixed_column_index||0,k=(0,t.useRef)({lastDraggedItem:null,lastDropTarget:null}),I=(0,t.useRef)(null);if(!e)return(0,x.jsx)(n.default,{style:w.container,children:(0,x.jsx)(p.default,{style:w.errorText,children:"Error: Quiz data is not available."})});const[T,z]=(0,t.useState)([]),[E,A]=(0,t.useState)({}),[W,$]=(0,t.useState)(!1),[B,J]=(0,t.useState)(null),[M,Q]=(0,t.useState)(0),P=(0,a.useSharedValue)({}),R=(0,a.useSharedValue)(null),H=(0,t.useCallback)((e=>(0,a.useAnimatedStyle)((function(){const r=function(){return{backgroundColor:R.value===e?'rgba(0, 0, 255, 0.1)':'#fff',paddingHorizontal:4}};return r.__closure={activeDroppable:R,droppableId:e},r.__workletHash=2481174948409,r.__initData=D,r})())),[]),q={};e.items.fixed_options.forEach(((e,r)=>{const t=`slot-${r}`;q[t]=H(t)})),q.options=H('options');(0,t.useEffect)((()=>{e.items?.draggable_options?(z(e.items.draggable_options.map((e=>({itemId:e,location:'options'})))),A({}),$(!1)):console.warn('No draggable options available')}),[e,O]);const F=e=>{const r=T.find((r=>r.location===e));return r?r.itemId:null},L=()=>T.filter((e=>'options'===e.location)).map((e=>e.itemId)),V=(e,r)=>{try{$(!1),A({}),z((t=>{const o=[...t],n=o.findIndex((r=>r.itemId===e));if(-1===n)return console.warn(`Dragged item ${e} not found in itemLocations`),t;if('options'===r)o[n].location='options';else{const e=o.findIndex((e=>e.location===r));-1!==e&&(o[e].location='options'),o[n].location=r}return o})),k.current={lastDraggedItem:e,lastDropTarget:r},J(null),setTimeout((()=>{I.current&&I.current.resetSortOrder&&I.current.resetSortOrder(),Q((e=>e+1))}),50)}catch(e){console.error('Error in onDragEnd:',e)}},G=(function(){const e=function({active:e,over:r}){try{r?(0,a.runOnJS)(V)(e.id,r.id):(console.warn('Drag ended without a valid drop target'),(0,a.runOnJS)(J)(null)),R.value=null}catch(e){console.error('Error in handleDragEnd:',e)}};return e.__closure={runOnJS:a.runOnJS,onDragEnd:V,setActiveDroppableId:J,activeDroppable:R},e.__workletHash=2454102026766,e.__initData=S,e})(),N=(function(){const e=function({over:e}){try{e?(R.value=e.id,(0,a.runOnJS)(J)(e.id)):(R.value=null,(0,a.runOnJS)(J)(null))}catch(e){console.error('Error in handleDragOver:',e)}};return e.__closure={activeDroppable:R,runOnJS:a.runOnJS,setActiveDroppableId:J},e.__workletHash=0xd65080a2b82,e.__initData=j,e})(),K=e=>{const r=[w.draggableItem,{maxWidth:_}];if(!W)return r;switch(E[e]){case'correct':r.push({backgroundColor:'rgba(75, 181, 67, 0.1)',borderColor:'#4BB543',borderWidth:1,borderStyle:'solid'});break;case'incorrect':r.push({backgroundColor:'rgba(255, 0, 0, 0.1)',borderColor:'#FF0000',borderWidth:1,borderStyle:'solid'});break;default:r.push({backgroundColor:'#fff'})}return r},U=L().length,X=e.items?.draggable_options?.length||0,Y=0===U&&X>0,Z=e=>({key:`${e}-${M}`,style:{userSelect:'none',cursor:'grab',touchAction:'none',WebkitTapHighlightColor:'transparent',WebkitTouchCallout:'none'}});return(0,t.useEffect)((()=>{y((0,x.jsx)(p.default,{style:{color:b.default.white},children:e.title}))}),[e]),(0,x.jsx)(c.QuizLayout,{thisQuiz:e,children:(0,x.jsxs)(l.default,{nestedScrollEnabled:!0,contentContainerStyle:{flexGrow:1,padding:16,backgroundColor:b.default.background},children:[(0,x.jsxs)(r.DndProvider,{ref:I,onDragEnd:G,onDragOver:N,keyboardSensorOptions:{coordinateGetter:()=>null},modifiers:{restrictToWindowEdges:!0,rubberband:!0},children:[(0,x.jsxs)(n.default,{style:{borderRadius:14,overflow:'hidden'},children:[(0,x.jsxs)(n.default,{style:{flexDirection:'row',borderBottomWidth:1,borderBottomColor:'#ddd',backgroundColor:'white'},children:[(0,x.jsx)(n.default,{style:{flex:2,padding:12,justifyContent:'center',borderBottomWidth:2,borderBottomColor:'#999'},children:(0,x.jsx)(p.default,{style:{fontSize:16,textAlign:'right',color:'#333'},children:e.column_labels?.[1]||'\u0628'})}),(0,x.jsx)(n.default,{style:{flex:1,padding:12,justifyContent:'center',borderBottomWidth:2,borderBottomColor:'#999'},children:(0,x.jsx)(p.default,{style:{fontSize:16,textAlign:'right',color:'#333'},children:e.column_labels?.[0]||'\u0623'})})]}),e.items.fixed_options.map(((e,t)=>{const o=`slot-${t}`,l=F(o);return(0,x.jsxs)(n.default,{style:{flexDirection:'row',borderBottomWidth:1,borderBottomColor:'#ddd'},children:[(0,x.jsx)(r.Droppable,{id:o,style:{flex:2,padding:0,backgroundColor:'#fff'},activeOpacity:.2,children:(0,x.jsx)(a.default.View,{style:[w.dropCell,q[o]],children:l?(0,x.jsx)(r.Draggable,Object.assign({id:l,data:P},Z(l),{children:(0,x.jsx)(n.default,{style:K(o),children:(0,x.jsx)(p.default,{style:[w.arabicText,{textAlign:'right'}],children:l})})})):(0,x.jsx)(n.default,{style:{width:'100%',minWidth:100,height:50,backgroundColor:'rgba(0,0,0,.3)',borderRadius:8}})})},`droppable-${o}-${M}`),(0,x.jsx)(n.default,{style:{flex:1,padding:12,justifyContent:'center',backgroundColor:'#fff'},children:(0,x.jsx)(p.default,{style:[w.arabicText,{textAlign:'right'}],children:e})})]},`row-${t}-${M}`)}))]}),(0,x.jsx)(r.Droppable,{id:"options",children:(0,x.jsxs)(a.default.View,{style:[{marginTop:10,padding:7,backgroundColor:'#fff',borderRadius:12,elevation:2},q.options],children:[(0,x.jsx)(p.default,{style:{fontSize:18,textAlign:'center',color:'#333',marginBottom:16},children:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u062a\u0627\u062d\u0629"}),(0,x.jsxs)(n.default,{style:{flexDirection:'row',flexWrap:'wrap',gap:12,justifyContent:'center',alignItems:'center'},children:[L().map((e=>(0,x.jsx)(r.Draggable,Object.assign({id:e,data:P},Z(e),{children:(0,x.jsx)(n.default,{style:[w.draggableItem,{backgroundColor:'#fff',maxWidth:_}],children:(0,x.jsx)(p.default,{style:[w.arabicText,{textAlign:'right'}],children:e})})}),`option-${e}-${M}`))),0===L().length&&(0,x.jsx)(p.default,{style:{padding:10,color:'#999'},children:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u062a\u0645 \u0627\u0633\u062a\u062e\u062f\u0627\u0645\u0647\u0627"})]})]})},`droppable-options-${M}`)]},`dnd-provider-${M}`),(0,x.jsx)(n.default,{style:{marginTop:'auto',marginBottom:20},children:W?(0,x.jsx)(u.SubmitButton,{enabledText:'\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631 \u0627\u0644\u062a\u0627\u0644\u064a',onPress:()=>{C(),o()},style:{backgroundColor:b.default.backgroundLinear1}}):(0,x.jsx)(u.SubmitButton,{enabledText:'\u0648\u0627\u062c\u062f',onPress:()=>{console.log('currentQuiz?.items?.correct_answers: ',e?.items?.correct_answers),console.log('currentQuiz?.items?.correct_answers: ',e?.items?.correct_answers);try{if($(!0),!e?.items?.correct_answers)return void console.warn('No correct answers available for verification');const r={},t=e.items.correct_answers.map((e=>`${e.column2} - ${e.column1}`));e.items.fixed_options.forEach(((t,o)=>{const n=`slot-${o}`,l=F(n),i=e.items.fixed_options[o];if(!l)return void(r[n]='empty');const a=e.items.correct_answers.some((e=>1===O?l===e.column1&&i===e.column2:l===e.column2&&i===e.column1));r[n]=a?'correct':'incorrect'})),A(r);const o=Object.values(r).filter((e=>'correct'===e)).length,n=e.items.fixed_options.length;i({quizId:e.id,isCorrect:o===n}),v({isCorrect:o===n,customText:`\u0644\u0642\u062f \u0623\u062c\u0628\u062a \u0639\u0644\u0649 ${o} \u0645\u0646 ${n} \u0623\u0633\u0626\u0644\u0629 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d.`,correctAnswers:o===n?null:t})}catch(e){console.error('Error in verifyAnswers:',e)}},isDisabled:!Y,disabledText:'\u0648\u0627\u062c\u062f',style:{backgroundColor:b.default.backgroundLinear1}})})]})})};const w=o.default.create({container:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#fff'},errorText:{fontSize:18,color:'#FF0000',textAlign:'center'},dropCell:{flex:1,padding:3,justifyContent:'center',alignItems:'center',borderWidth:1,borderColor:'#ddd',borderStyle:'dashed',backgroundColor:'#fff'},draggableItem:{backgroundColor:'#fff',padding:10,borderRadius:8,elevation:2,shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22,width:'100%'},arabicText:{fontSize:16,color:'#333',textAlign:'right',flexWrap:'wrap'}})}),1625,[1,1626,16,29,281,283,284,85,131,1612,1615,1483,372,1101,366,1552,370]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}));var u=r(d[2]);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))}));var o=r(d[3]);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}));var c=r(d[4]);Object.keys(c).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))}));var f=r(d[5]);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===f[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return f[n]}}))}));var l=r(d[6]);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))}))}),1626,[1627,1631,1653,1654,1629,1663,1635]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}),1627,[1628,1652]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Draggable=void 0;var t=e(_r(d[1])),i=(e(_r(d[2])),(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var r=n?Object.getOwnPropertyDescriptor(e,s):null;r&&(r.get||r.set)?Object.defineProperty(a,s,r):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a})(_r(d[3]))),a=_r(d[4]),n=_r(d[5]);const s=["children","id","data","disabled","style","activeOpacity","activationDelay","activationTolerance","animatedStyleWorklet"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}const r={code:"function mgcrea_DraggableJs1(){const{state,activeOpacity,offset,withSpring,animatedStyleWorklet,disabled}=this.__closure;const isSleeping=state.value===\"sleeping\";const isActive=state.value===\"dragging\";const isActing=state.value===\"acting\";const zIndex=isActive?999:isActing?998:1;const style={opacity:isActive?activeOpacity:1,zIndex:zIndex,transform:[{translateX:isActive||isSleeping||isActing?offset.x.value:withSpring(offset.x.value,{damping:100,stiffness:1000})},{translateY:isActive||isSleeping||isActing?offset.y.value:withSpring(offset.y.value,{damping:100,stiffness:1000})}]};if(animatedStyleWorklet){Object.assign(style,animatedStyleWorklet(style,{isActive:isActive,isActing:isActing,isDisabled:!!disabled}));}return style;}"};_e.Draggable=e=>{let{children:l,id:c,data:o,disabled:f,style:u,activeOpacity:v=.9,activationDelay:p,activationTolerance:y,animatedStyleWorklet:b}=e,_=(0,t.default)(e,s);const{props:S,offset:A,state:O}=(0,a.useDraggable)({id:c,data:o,disabled:f,activationDelay:p,activationTolerance:y}),h=(0,i.useAnimatedStyle)((function(){const e=function(){const e="sleeping"===O.value,t="dragging"===O.value,a="acting"===O.value,n={opacity:t?v:1,zIndex:t?999:a?998:1,transform:[{translateX:t||e||a?A.x.value:(0,i.withSpring)(A.x.value,{damping:100,stiffness:1e3})},{translateY:t||e||a?A.y.value:(0,i.withSpring)(A.y.value,{damping:100,stiffness:1e3})}]};return b&&Object.assign(n,b(n,{isActive:t,isActing:a,isDisabled:!!f})),n};return e.__closure={state:O,activeOpacity:v,offset:A,withSpring:i.withSpring,animatedStyleWorklet:b,disabled:f},e.__workletHash=0xc7e2cc72737,e.__initData=r,e})(),[c,O,v]);return(0,n.jsx)(i.default.View,Object.assign({},S,{style:[u,h]},_,{children:l}))}}),1628,[1,30,16,131,1629,370]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}));var u=r(d[2]);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))}));var o=r(d[3]);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}));var c=r(d[4]);Object.keys(c).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))}));var f=r(d[5]);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===f[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return f[n]}}))}));var l=r(d[6]);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}}))}));var b=r(d[7]);Object.keys(b).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===b[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return b[n]}}))}));var _=r(d[8]);Object.keys(_).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===_[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return _[n]}}))}));var j=r(d[9]);Object.keys(j).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===j[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return j[n]}}))}));var s=r(d[10]);Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===s[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return s[n]}}))}));var y=r(d[11]);Object.keys(y).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===y[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return y[n]}}))}));var O=r(d[12]);Object.keys(O).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===O[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return O[n]}}))}));var p=r(d[13]);Object.keys(p).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===p[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return p[n]}}))}))}),1629,[1630,1632,1633,1634,1643,1644,1645,1646,1647,1648,1649,1650,1642,1651]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useActiveDragReaction=void 0;var t=r(d[0]),c=r(d[1]),n=r(d[2]);const u={code:"function mgcrea_useActiveDragReactionJs1(){const{activeId,id,State,panGestureState}=this.__closure;return activeId.value===id&&[State.BEGAN,State.ACTIVE].includes(panGestureState.value);}"},o={code:"function mgcrea_useActiveDragReactionJs2(next,prev){const{callback}=this.__closure;if(next!==prev){callback(next);}}"};e.useActiveDragReaction=(s,_)=>{const{draggableActiveId:l,panGestureState:v}=(0,n.useDndContext)();(0,c.useAnimatedReaction)((function(){const c=()=>l.value===s&&[t.State.BEGAN,t.State.ACTIVE].includes(v.value);return c.__closure={activeId:l,id:s,State:t.State,panGestureState:v},c.__workletHash=7213818830622,c.__initData=u,c})(),(function(){const t=function(t,c){t!==c&&_(t)};return t.__closure={callback:_},t.__workletHash=1666398554395,t.__initData=o,t})(),[])}}),1630,[376,131,1631]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDndContext=e.DndContext=void 0;var t=r(d[0]);const n=e.DndContext=(0,t.createContext)(null);e.useDndContext=()=>(0,t.useContext)(n)}),1631,[16]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useActiveDropReaction=void 0;var t=r(d[0]),c=r(d[1]);const n={code:"function mgcrea_useActiveDropReactionJs1(){const{activeId,id}=this.__closure;return activeId.value===id;}"},o={code:"function mgcrea_useActiveDropReactionJs2(next,prev){const{callback}=this.__closure;if(next!==prev){callback(next);}}"};e.useActiveDropReaction=(s,u)=>{const{droppableActiveId:_}=(0,c.useDndContext)();(0,t.useAnimatedReaction)((function(){const t=()=>_.value===s;return t.__closure={activeId:_,id:s},t.__workletHash=0xb633ed22afc,t.__initData=n,t})(),(function(){const t=function(t,c){t!==c&&u(t)};return t.__closure={callback:u},t.__workletHash=2709641078914,t.__initData=o,t})(),[])}}),1632,[131,1631]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.useChildrenIds=void 0;var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var i=u?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}_e.useChildrenIds=r=>(0,e.useMemo)((()=>{const t=e.Children.map(r,(r=>e.default.isValidElement(r)?r.props.id:null));return t?t.filter(Boolean):[]}),[r])}),1633,[16]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggable=void 0;var t=r(d[0]),s=r(d[1]),l=r(d[2]),n=r(d[3]),o=r(d[4]),u=r(d[5]);const c={code:"function mgcrea_useDraggableJs1(){const{draggableLayouts,id,layout,draggableOffsets,offset,draggableRestingOffsets,restingOffset,draggableStates,state,draggableOptions,sharedData,disabled,activationDelay,activationTolerance}=this.__closure;requestAnimationFrame(function(){draggableLayouts.value[id]=layout;draggableOffsets.value[id]=offset;draggableRestingOffsets.value[id]=restingOffset;draggableStates.value[id]=state;draggableOptions.value[id]={id:id,data:sharedData,disabled:disabled,activationDelay:activationDelay,activationTolerance:activationTolerance};});}"},b={code:"function mgcrea_useDraggableJs2(){const{draggableLayouts,id,draggableOffsets,draggableRestingOffsets,draggableOptions,draggableStates}=this.__closure;requestAnimationFrame(function(){delete draggableLayouts.value[id];delete draggableOffsets.value[id];delete draggableRestingOffsets.value[id];delete draggableOptions.value[id];delete draggableStates.value[id];});}"},f={code:"function mgcrea_useDraggableJs3(){const{disabled}=this.__closure;return disabled;}"},v={code:"function mgcrea_useDraggableJs4(next,prev){const{draggableOptions,id,disabled}=this.__closure;if(next!==prev&&draggableOptions.value[id]){draggableOptions.value[id].disabled=disabled;}}"};e.useDraggable=({id:_,data:O={},disabled:h=!1,activationDelay:y=0,activationTolerance:D=1/0})=>{const{draggableLayouts:p,draggableOffsets:S,draggableRestingOffsets:L,draggableOptions:R,draggableStates:x,draggableActiveId:w,draggablePendingId:A,containerRef:I,panGestureState:T}=(0,l.useDndContext)(),k=(0,t.useRef)(null),q=(0,o.isReanimatedSharedValue)(O)?O:(0,n.useLatestSharedValue)(O),F=(0,s.useSharedValue)({x:0,y:0,width:0,height:0}),H=(0,u.useSharedPoint)(0,0),J=(0,u.useSharedPoint)(0,0),P=(0,s.useSharedValue)("resting");x.value[_]=P,(0,t.useLayoutEffect)((()=>{const t=(function(){const t=function(){requestAnimationFrame((()=>{p.value[_]=F,S.value[_]=H,L.value[_]=J,x.value[_]=P,R.value[_]={id:_,data:q,disabled:h,activationDelay:y,activationTolerance:D}}))};return t.__closure={draggableLayouts:p,id:_,layout:F,draggableOffsets:S,offset:H,draggableRestingOffsets:L,restingOffset:J,draggableStates:x,state:P,draggableOptions:R,sharedData:q,disabled:h,activationDelay:y,activationTolerance:D},t.__workletHash=0xb7842cf4e44,t.__initData=c,t})();return(0,s.runOnUI)(t)(),()=>{const t=(function(){const t=function(){requestAnimationFrame((()=>{delete p.value[_],delete S.value[_],delete L.value[_],delete R.value[_],delete x.value[_]}))};return t.__closure={draggableLayouts:p,id:_,draggableOffsets:S,draggableRestingOffsets:L,draggableOptions:R,draggableStates:x},t.__workletHash=7479197350819,t.__initData=b,t})();(0,s.runOnUI)(t)()}}),[_]);const V=(0,n.useEvent)((t=>{k.current&&I.current&&k.current.measureLayout(I.current,((t,s,l,n)=>{F.value={x:t,y:s,width:l,height:n}}))}));(0,s.useAnimatedReaction)((function(){const t=()=>h;return t.__closure={disabled:h},t.__workletHash=0xc8f10ba569b,t.__initData=f,t})(),(function(){const t=function(t,s){t!==s&&R.value[_]&&(R.value[_].disabled=h)};return t.__closure={draggableOptions:R,id:_,disabled:h},t.__workletHash=0xeac9eda2270,t.__initData=v,t})(),[h]);const E=(0,t.useMemo)((()=>({ref:k,onLayout:V})),[V]);return{offset:H,state:P,activeId:w,pendingId:A,setNodeLayout:V,panGestureState:T,props:E}}}),1634,[16,131,1631,1629,1635,1642]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}));var u=r(d[2]);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))}));var o=r(d[3]);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))}));var c=r(d[4]);Object.keys(c).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===c[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return c[n]}}))}));var f=r(d[5]);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===f[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return f[n]}}))}))}),1635,[1636,1637,1638,1639,1640,1641]);
__d((function(g,r,_i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.arraysEqual=void 0;const t={code:"function mgcrea_arrayJs1(a,b){if(a===b){return true;}if(a.length!==b.length){return false;}for(let i=0;i<a.length;i++){if(a[i]!==b[i]){return false;}}return true;}"};e.arraysEqual=(function(){const n=function(t,n){if(t===n)return!0;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==n[a])return!1;return!0};return n.__closure={},n.__workletHash=0xd16b8c73be0,n.__initData=t,n})()}),1636,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.assert=void 0;class t extends Error{name="AssertionError";code="ERR_ASSERTION";constructor(t="",o,s="true",n="=="){super(t||`${String(o)} ${n} ${String(s)}`),this.actual=o,this.expected=s,this.operator=n,Object.setPrototypeOf(this,new.target.prototype)}}e.assert=(o,s)=>{if(null==o)throw new t(s,o)}}),1637,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.doesOverlapVertically=e.doesOverlapOnAxis=e.doesOverlapHorizontally=e.doesCenterPointOverlap=void 0;var t=r(d[0]);const o={code:"function mgcrea_collisionJs1(activeLayout,itemLayout){const{centerPoint,includesPoint}=this.__closure;const itemCenterPoint=centerPoint(itemLayout);return includesPoint(activeLayout,itemCenterPoint);}"},n=(e.doesCenterPointOverlap=(function(){const n=function(o,n){const s=(0,t.centerPoint)(n);return(0,t.includesPoint)(o,s)};return n.__closure={centerPoint:t.centerPoint,includesPoint:t.includesPoint},n.__workletHash=674728629270,n.__initData=o,n})(),{code:"function mgcrea_collisionJs2(activeLayout,itemLayout,direction){const{centerAxis,overlapsAxis}=this.__closure;const itemCenterAxis=centerAxis(itemLayout,direction);return overlapsAxis(activeLayout,itemCenterAxis,direction);}"}),s=e.doesOverlapOnAxis=(function(){const o=function(o,n,s){const c=(0,t.centerAxis)(n,s);return(0,t.overlapsAxis)(o,c,s)};return o.__closure={centerAxis:t.centerAxis,overlapsAxis:t.overlapsAxis},o.__workletHash=5254424685564,o.__initData=n,o})(),c={code:"function mgcrea_collisionJs3(activeLayout,itemLayout){const{doesOverlapOnAxis}=this.__closure;return doesOverlapOnAxis(activeLayout,itemLayout,\"vertical\");}"},l=(e.doesOverlapHorizontally=(function(){const t=function(t,o){return s(t,o,"vertical")};return t.__closure={doesOverlapOnAxis:s},t.__workletHash=1729592621668,t.__initData=c,t})(),{code:"function mgcrea_collisionJs4(activeLayout,itemLayout){const{doesOverlapOnAxis}=this.__closure;return doesOverlapOnAxis(activeLayout,itemLayout,\"horizontal\");}"});e.doesOverlapVertically=(function(){const t=function(t,o){return s(t,o,"horizontal")};return t.__closure={doesOverlapOnAxis:s},t.__workletHash=0xce59e81c4ef,t.__initData=l,t})()}),1638,[1639]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.splitLayout=e.overlapsRectangleBy=e.overlapsRectangle=e.overlapsAxis=e.includesPoint=e.getDistance=e.centerPoint=e.centerAxis=e.applyOffset=void 0;const t={code:"function mgcrea_geometryJs1(layout,axis){const{x:x,y:y,width:width,height:height}=layout;if(axis===\"x\"){return[{x:x,y:y,width:width/2,height:height},{x:x+width/2,y:y,width:width/2,height:height}];}return[{x:x,y:y,width:width,height:height/2},{x:x,y:y+height/2,width:width,height:height/2}];}"},o=(e.splitLayout=(function(){const o=function(t,o){const{x:h,y:y,width:n,height:u}=t;return"x"===o?[{x:h,y:y,width:n/2,height:u},{x:h+n/2,y:y,width:n/2,height:u}]:[{x:h,y:y,width:n,height:u/2},{x:h,y:y+u/2,width:n,height:u/2}]};return o.__closure={},o.__workletHash=1659683269825,o.__initData=t,o})(),{code:"function mgcrea_geometryJs2(layout,{x:x,y:y},strict){if(strict){return layout.x<x&&x<layout.x+layout.width&&layout.y<y&&y<layout.y+layout.height;}return layout.x<=x&&x<=layout.x+layout.width&&layout.y<=y&&y<=layout.y+layout.height;}"}),h=(e.includesPoint=(function(){const t=function(t,{x:o,y:h},y){return y?t.x<o&&o<t.x+t.width&&t.y<h&&h<t.y+t.height:t.x<=o&&o<=t.x+t.width&&t.y<=h&&h<=t.y+t.height};return t.__closure={},t.__workletHash=9924225728459,t.__initData=o,t})(),{code:"function mgcrea_geometryJs3(layout,other){return layout.x<other.x+other.width&&layout.x+layout.width>other.x&&layout.y<other.y+other.height&&layout.y+layout.height>other.y;}"}),y=(e.overlapsRectangle=(function(){const t=function(t,o){return t.x<o.x+o.width&&t.x+t.width>o.x&&t.y<o.y+o.height&&t.y+t.height>o.y};return t.__closure={},t.__workletHash=8096872602513,t.__initData=h,t})(),{code:"function mgcrea_geometryJs4(layout,other,by){return layout.x<other.x+other.width-by&&layout.x+layout.width>other.x+by&&layout.y<other.y+other.height-by&&layout.y+layout.height>other.y+by;}"}),n=(e.overlapsRectangleBy=(function(){const t=function(t,o,h){return t.x<o.x+o.width-h&&t.x+t.width>o.x+h&&t.y<o.y+o.height-h&&t.y+t.height>o.y+h};return t.__closure={},t.__workletHash=2888045776609,t.__initData=y,t})(),{code:"function mgcrea_geometryJs5(layout,{x:x,y:y}){return{width:layout.width,height:layout.height,x:layout.x+x,y:layout.y+y};}"}),u=(e.applyOffset=(function(){const t=function(t,{x:o,y:h}){return{width:t.width,height:t.height,x:t.x+o,y:t.y+h}};return t.__closure={},t.__workletHash=0xc095b578832,t.__initData=n,t})(),{code:"function mgcrea_geometryJs6(layout){return{x:layout.x+layout.width/2,y:layout.y+layout.height/2};}"}),c=(e.centerPoint=(function(){const t=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}};return t.__closure={},t.__workletHash=0xd448cedc32f,t.__initData=u,t})(),{code:"function mgcrea_geometryJs7(layout,direction){return direction===\"horizontal\"?layout.x+layout.width/2:layout.y+layout.height/2;}"}),l=(e.centerAxis=(function(){const t=function(t,o){return"horizontal"===o?t.x+t.width/2:t.y+t.height/2};return t.__closure={},t.__workletHash=0xf90dcea92cf,t.__initData=c,t})(),{code:"function mgcrea_geometryJs8(layout,axis,direction){return direction===\"horizontal\"?layout.x<axis&&layout.x+layout.width>axis:layout.y<axis&&layout.y+layout.height>axis;}"}),x=(e.overlapsAxis=(function(){const t=function(t,o,h){return"horizontal"===h?t.x<o&&t.x+t.width>o:t.y<o&&t.y+t.height>o};return t.__closure={},t.__workletHash=2757847088334,t.__initData=l,t})(),{code:"function mgcrea_geometryJs9(x,y){return Math.sqrt(Math.abs(x)**2+Math.abs(y)**2);}"});e.getDistance=(function(){const t=function(t,o){return Math.sqrt(Math.abs(t)**2+Math.abs(o)**2)};return t.__closure={},t.__workletHash=258243822901,t.__initData=x,t})()}),1639,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomInt=void 0;const n={code:"function mgcrea_randomJs1(min,max){min=Math.ceil(min);max=Math.floor(max);return Math.floor(Math.random()*(max-min+1))+min;}"};e.getRandomInt=(function(){const t=function(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n};return t.__closure={},t.__workletHash=9810709673449,t.__initData=n,t})()}),1640,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.withDefaultSpring=e.waitForAll=e.stringifySharedPoint=e.stringifyLayout=e.moveArrayIndex=e.isReanimatedSharedValue=e.floorLayout=e.animatePointWithSpring=e.SLOW_SPRING_CONFIG=e.FAST_SPRING_CONFIG=e.DEFAULT_SPRING_CONFIG_3=e.DEFAULT_SPRING_CONFIG=void 0;var t=r(d[0]);e.DEFAULT_SPRING_CONFIG={damping:10,mass:1,stiffness:100,overshootClamping:!1,restSpeedThreshold:.001,restDisplacementThreshold:.2},e.FAST_SPRING_CONFIG={damping:20,mass:.5,stiffness:100,overshootClamping:!1,restSpeedThreshold:.2,restDisplacementThreshold:.2},e.DEFAULT_SPRING_CONFIG_3={damping:20,mass:.5,stiffness:100,overshootClamping:!1,restSpeedThreshold:.01,restDisplacementThreshold:.2};const n=e.SLOW_SPRING_CONFIG={damping:20,mass:1,stiffness:10,overshootClamping:!1,restSpeedThreshold:.01,restDisplacementThreshold:.2},o={code:"function mgcrea_reanimatedJs1(callback,count=2){const status=new Array(count).fill(false);const result=new Array(count).fill(undefined);return status.map(function(_v,index){return function(...args){status[index]=true;result[index]=args;if(status.every(Boolean)){callback(...result);}};});}"},s=e.waitForAll=(function(){const t=function(t,n=2){const o=new Array(n).fill(!1),s=new Array(n).fill(void 0);return o.map(((n,l)=>(...n)=>{o[l]=!0,s[l]=n,o.every(Boolean)&&t(...s)}))};return t.__closure={},t.__workletHash=9733981987094,t.__initData=o,t})(),l={code:"function mgcrea_reanimatedJs2(toValue,userConfig={},callback){const{SLOW_SPRING_CONFIG,withSpring}=this.__closure;const config=Object.assign({},SLOW_SPRING_CONFIG,userConfig);return withSpring(toValue,config,callback);}"},c=(e.withDefaultSpring=(function(){const o=function(o,s={},l){const c=Object.assign({},n,s);return(0,t.withSpring)(o,c,l)};return o.__closure={SLOW_SPRING_CONFIG:n,withSpring:t.withSpring},o.__workletHash=0xcec36f8a764,o.__initData=l,o})(),{code:"function mgcrea_reanimatedJs3(point,[toValueX,toValueY],[configX,configY]=[undefined,undefined],callback){const{waitForAll,withSpring}=this.__closure;const[waitForX,waitForY]=waitForAll(function([finishedX,currentX],[finishedY,currentY]){if(!callback){return;}callback([finishedX,finishedY],[currentX,currentY]);});point.x.value=withSpring(toValueX,configX,waitForX);point.y.value=withSpring(toValueY,configY,waitForY);}"}),h=(e.animatePointWithSpring=(function(){const n=function(n,[o,l],[c,h]=[void 0,void 0],u){const[f,_]=s((([t,n],[o,s])=>{u&&u([t,o],[n,s])}));n.x.value=(0,t.withSpring)(o,c,f),n.y.value=(0,t.withSpring)(l,h,_)};return n.__closure={waitForAll:s,withSpring:t.withSpring},n.__workletHash=0xa6ea44e7f73,n.__initData=c,n})(),{code:"function mgcrea_reanimatedJs4(input,from,to){const output=input.slice();output.splice(to,0,output.splice(from,1)[0]);return output;}"}),u=(e.moveArrayIndex=(function(){const t=function(t,n,o){const s=t.slice();return s.splice(o,0,s.splice(n,1)[0]),s};return t.__closure={},t.__workletHash=8556961060490,t.__initData=h,t})(),{code:"function mgcrea_reanimatedJs5({x:x,y:y}){return\"{\\\"x\\\": \"+Math.floor(x.value)+\", \\\"y\\\": \"+Math.floor(y.value)+\"}\";}"}),f=(e.stringifySharedPoint=(function(){const t=function({x:t,y:n}){return`{"x": ${Math.floor(t.value)}, "y": ${Math.floor(n.value)}}`};return t.__closure={},t.__workletHash=8923046517911,t.__initData=u,t})(),{code:"function mgcrea_reanimatedJs6({x:x,y:y,width:width,height:height}){return\"{\\\"x\\\": \"+Math.floor(x)+\", \\\"y\\\": \"+Math.floor(y)+\", \\\"width\\\": \"+Math.floor(width)+\", \\\"height\\\": \"+Math.floor(height)+\"}\";}"}),_=(e.stringifyLayout=(function(){const t=function({x:t,y:n,width:o,height:s}){return`{"x": ${Math.floor(t)}, "y": ${Math.floor(n)}, "width": ${Math.floor(o)}, "height": ${Math.floor(s)}}`};return t.__closure={},t.__workletHash=7624440502964,t.__initData=f,t})(),{code:"function mgcrea_reanimatedJs7({x:x,y:y,width:width,height:height}){return{x:Math.floor(x),y:Math.floor(y),width:Math.floor(width),height:Math.floor(height)};}"});e.floorLayout=(function(){const t=function({x:t,y:n,width:o,height:s}){return{x:Math.floor(t),y:Math.floor(n),width:Math.floor(o),height:Math.floor(s)}};return t.__closure={},t.__workletHash=0x96a8f64eff5,t.__initData=_,t})();e.isReanimatedSharedValue=t=>"object"==typeof t&&t?._isReanimatedSharedValue}),1641,[131]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useSharedPoint=void 0;var u=r(d[0]);e.useSharedPoint=(o,n)=>({x:(0,u.useSharedValue)(o),y:(0,u.useSharedValue)(n)})}),1642,[131]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggableActiveId=void 0;var t=r(d[0]),n=r(d[1]),c=r(d[2]);const u={code:"function mgcrea_useDraggableActiveIdJs1(){const{draggableActiveId}=this.__closure;return draggableActiveId.value;}"},s={code:"function mgcrea_useDraggableActiveIdJs2(next,prev){const{runOnJS,setActiveId}=this.__closure;if(next!==prev){runOnJS(setActiveId)(next);}}"};e.useDraggableActiveId=()=>{const[o,_]=(0,t.useState)(null),{draggableActiveId:l}=(0,c.useDndContext)();return(0,n.useAnimatedReaction)((function(){const t=()=>l.value;return t.__closure={draggableActiveId:l},t.__workletHash=1375138792221,t.__initData=u,t})(),(function(){const t=function(t,c){t!==c&&(0,n.runOnJS)(_)(t)};return t.__closure={runOnJS:n.runOnJS,setActiveId:_},t.__workletHash=1335990967903,t.__initData=s,t})(),[]),o}}),1643,[16,131,1631]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggableStyle=void 0;var t=r(d[0]),s=r(d[1]);const l={code:"function mgcrea_useDraggableStyleJs1(){const{activeId,id,state,options,callback}=this.__closure;var _state,_options$value$id;const isActive=activeId.value===id;const isActing=((_state=state)===null||_state===void 0?void 0:_state.value)===\"acting\";const isDisabled=!((_options$value$id=options.value[id])!==null&&_options$value$id!==void 0&&_options$value$id.disabled);return callback({isActive:isActive,isActing:isActing,isDisabled:isDisabled});}"};e.useDraggableStyle=(n,o)=>{const{draggableStates:c,draggableActiveId:u,draggableOptions:v}=(0,s.useDndContext)(),_=c.value[n];return(0,t.useAnimatedStyle)((function(){const t=function(){const t=u.value===n,s="acting"===_?.value,l=!v.value[n]?.disabled;return o({isActive:t,isActing:s,isDisabled:l})};return t.__closure={activeId:u,id:n,state:_,options:v,callback:o},t.__workletHash=8856117851156,t.__initData=l,t})(),[n,_])}}),1644,[131,1626]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDroppable=void 0;var t=r(d[0]),o=r(d[1]),s=r(d[2]),n=r(d[3]),u=r(d[4]);const l={code:"function mgcrea_useDroppableJs1(){const{droppableLayouts,id,layout,droppableOptions,sharedData,disabled}=this.__closure;droppableLayouts.value[id]=layout;droppableOptions.value[id]={id:id,data:sharedData,disabled:disabled};}"},p={code:"function mgcrea_useDroppableJs2(){const{droppableLayouts,id,droppableOptions}=this.__closure;requestAnimationFrame(function(){delete droppableLayouts.value[id];delete droppableOptions.value[id];});}"},c={code:"function mgcrea_useDroppableJs3(){const{disabled}=this.__closure;return disabled;}"},b={code:"function mgcrea_useDroppableJs4(next,prev){const{droppableOptions,id,disabled}=this.__closure;if(next!==prev&&droppableOptions.value[id]){droppableOptions.value[id].disabled=disabled;}}"};e.useDroppable=({id:_,data:v={},disabled:f=!1})=>{const{containerRef:h,droppableLayouts:y,droppableOptions:D,droppableActiveId:O,panGestureState:L}=(0,s.useDndContext)(),x=(0,t.useRef)(null),w=(0,u.isReanimatedSharedValue)(v)?v:(0,n.useLatestSharedValue)(v),S=(0,o.useSharedValue)({x:0,y:0,width:0,height:0});(0,t.useLayoutEffect)((()=>{const t=(function(){const t=function(){y.value[_]=S,D.value[_]={id:_,data:w,disabled:f}};return t.__closure={droppableLayouts:y,id:_,layout:S,droppableOptions:D,sharedData:w,disabled:f},t.__workletHash=0xc7ed73e069b,t.__initData=l,t})();return(0,o.runOnUI)(t)(),()=>{const t=(function(){const t=function(){requestAnimationFrame((()=>{delete y.value[_],delete D.value[_]}))};return t.__closure={droppableLayouts:y,id:_,droppableOptions:D},t.__workletHash=737496534477,t.__initData=p,t})();(0,o.runOnUI)(t)()}}),[_]);const k=(0,n.useEvent)((()=>{x.current&&h.current&&x.current.measureLayout(h.current,((t,o,s,n)=>{S.value={x:t,y:o,width:s,height:n}}))}));(0,o.useAnimatedReaction)((function(){const t=()=>f;return t.__closure={disabled:f},t.__workletHash=4078366349557,t.__initData=c,t})(),(function(){const t=function(t,o){t!==o&&D.value[_]&&(D.value[_].disabled=f)};return t.__closure={droppableOptions:D,id:_,disabled:f},t.__workletHash=0xb0883c37530,t.__initData=b,t})(),[f]);return{props:(0,t.useMemo)((()=>({ref:x,onLayout:k})),[k]),activeId:O,panGestureState:L}}}),1645,[16,131,1631,1629,1635]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDroppableStyle=void 0;var t=r(d[0]),o=r(d[1]);const s={code:"function mgcrea_useDroppableStyleJs1(){const{activeId,id,options,callback}=this.__closure;var _options$value$id;const isActive=activeId.value===id;const isDisabled=!((_options$value$id=options.value[id])!==null&&_options$value$id!==void 0&&_options$value$id.disabled);return callback({isActive:isActive,isDisabled:isDisabled});}"};e.useDroppableStyle=(l,n)=>{const{droppableActiveId:c,droppableOptions:u}=(0,o.useDndContext)();return(0,t.useAnimatedStyle)((function(){const t=function(){const t=c.value===l,o=!u.value[l]?.disabled;return n({isActive:t,isDisabled:o})};return t.__closure={activeId:c,id:l,options:u,callback:n},t.__workletHash=8858365396846,t.__initData=s,t})(),[])}}),1646,[131,1626]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useEvent=void 0;var u=r(d[0]);e.useEvent=t=>{const n=(0,u.useRef)(t);return(0,u.useLayoutEffect)((()=>{n.current=t})),(0,u.useCallback)(((...u)=>n.current?.(...u)),[])}}),1647,[16]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useLatestSharedValue=function(s,l=[s]){const o=(0,t.useSharedValue)(s);return(0,t.useAnimatedReaction)((function(){const t=()=>s;return t.__closure={value:s},t.__workletHash=651044080125,t.__initData=u,t})(),(function(){const t=function(t,u){null!==u&&(o.value=t)};return t.__closure={sharedValue:o},t.__workletHash=6180915233727,t.__initData=n,t})(),l),o};var t=r(d[0]);const u={code:"function mgcrea_useLatestSharedValueJs1(){const{value}=this.__closure;return value;}"},n={code:"function mgcrea_useLatestSharedValueJs2(next,prev){const{sharedValue}=this.__closure;if(prev===null){return;}sharedValue.value=next;}"}}),1648,[131]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useLatestValue=function(u,n=[u]){const c=(0,t.useRef)(u);return(0,t.useLayoutEffect)((()=>{c.current!==u&&(c.current=u)}),n),c};var t=r(d[0])}),1649,[16]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useNodeRef=void 0;var u=r(d[0]),n=r(d[1]);e.useNodeRef=t=>{const c=(0,n.useEvent)(t),o=(0,u.useRef)(null),s=(0,u.useCallback)((u=>{u!==o.current&&c?.(u,o.current),o.current=u}),[]);return[o,s]}}),1650,[16,1647]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useSharedValuePair=void 0;var u=r(d[0]);e.useSharedValuePair=(l,s)=>[(0,u.useSharedValue)(l),(0,u.useSharedValue)(s)]}),1651,[131]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Droppable=void 0;var t=e(_r(d[1])),i=(e(_r(d[2])),(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var c=r?Object.getOwnPropertyDescriptor(e,n):null;c&&(c.get||c.set)?Object.defineProperty(a,n,c):a[n]=e[n]}return a.default=e,i&&i.set(e,a),a})(_r(d[3]))),a=_r(d[4]),r=_r(d[5]);const n=["children","id","disabled","data","style","activeOpacity","animatedStyleWorklet"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}const c={code:"function mgcrea_DroppableJs1(){const{activeId,id,activeOpacity,animatedStyleWorklet,disabled}=this.__closure;const isActive=activeId.value===id;const style={opacity:isActive?activeOpacity:1};if(animatedStyleWorklet){Object.assign(style,animatedStyleWorklet(style,{isActive:isActive,isDisabled:!!disabled}));}return style;}"};_e.Droppable=e=>{let{children:l,id:s,disabled:o,data:u,style:p,activeOpacity:y=.9,animatedStyleWorklet:f}=e,v=(0,t.default)(e,n);const{props:b,activeId:_}=(0,a.useDroppable)({id:s,disabled:o,data:u}),O=(0,i.useAnimatedStyle)((function(){const e=function(){const e=_.value===s,t={opacity:e?y:1};return f&&Object.assign(t,f(t,{isActive:e,isDisabled:!!o})),t};return e.__closure={activeId:_,id:s,activeOpacity:y,animatedStyleWorklet:f,disabled:o},e.__workletHash=7018244455360,e.__initData=c,e})(),[s,y]);return(0,r.jsx)(i.default.View,Object.assign({},b,{style:[p,O]},v,{children:l}))}}),1652,[1,30,16,131,1629,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DndProvider=void 0;var a=(function(e,a){if(!a&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r(a);if(t&&t.has(e))return t.get(e);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=l?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=e(_r(d[2])),n=_r(d[3]),l=_r(d[4]),i=_r(d[5]),s=_r(d[6]),o=_r(d[7]),u=_r(d[8]);function r(e){if("function"!=typeof WeakMap)return null;var a=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:a})(e)}const c={code:"function mgcrea_DndProviderJs1(){const{draggableActiveId}=this.__closure;return draggableActiveId.value;}"},v={code:"function mgcrea_DndProviderJs2(next,prev){const{onActivation,runOnJS}=this.__closure;if(next!==null){if(onActivation){runOnJS(onActivation)(next,prev);}}}"},f={code:"function mgcrea_DndProviderJs3(point){const{draggableLayouts,draggableOffsets,draggableOptions,includesPoint,draggableContentOffset}=this.__closure;const{x:x,y:y}=point;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:options}=draggableOptions;for(const[id,layout]of Object.entries(layouts)){const offset=offsets[id];const isDisabled=options[id].disabled;if(!isDisabled&&includesPoint(layout.value,{x:x-offset.x.value+draggableContentOffset.x.value,y:y-offset.y.value+draggableContentOffset.y.value})){return id;}}return null;}"},b={code:"function mgcrea_DndProviderJs4(activeLayout){const{droppableLayouts,droppableOptions,shouldDropWorklet}=this.__closure;const{value:layouts}=droppableLayouts;const{value:options}=droppableOptions;for(const[id,layout]of Object.entries(layouts)){const isDisabled=options[id].disabled;if(!isDisabled&&shouldDropWorklet(activeLayout,layout.value)){return id;}}return null;}"},p={code:"function mgcrea_DndProviderJs5(){const{debug,id,draggableActiveId,draggableStates}=this.__closure;debug&&console.log(\"draggableActiveId.value = \"+id);draggableActiveId.value=id;draggableStates.value[id].value=\"dragging\";}"},y={code:"function mgcrea_DndProviderJs6(event){const{debug,disabled,panGestureState,draggableLayouts,draggableOffsets,draggableRestingOffsets,draggableOptions,draggableStates,findActiveLayoutId,draggableInitialOffset,cancelAnimation,draggablePendingId,runOnJS,setActiveId,draggableActiveId,draggableActiveLayout,applyOffset,onBegin}=this.__closure;const{state:state,x:x,y:y}=event;debug&&console.log(\"begin\",{state:state,x:x,y:y});if(disabled){return;}panGestureState.value=state;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:restingOffsets}=draggableRestingOffsets;const{value:options}=draggableOptions;const{value:states}=draggableStates;const activeId=findActiveLayoutId({x:x,y:y});if(activeId!==null){const activeLayout=layouts[activeId].value;const activeOffset=offsets[activeId];const restingOffset=restingOffsets[activeId];const{value:activeState}=states[activeId];draggableInitialOffset.x.value=activeOffset.x.value;draggableInitialOffset.y.value=activeOffset.y.value;if([\"dragging\",\"acting\"].includes(activeState)){cancelAnimation(activeOffset.x);cancelAnimation(activeOffset.y);}else{restingOffset.x.value=activeOffset.x.value;restingOffset.y.value=activeOffset.y.value;}const{activationDelay:activationDelay}=options[activeId];if(activationDelay>0){draggablePendingId.value=activeId;draggableStates.value[activeId].value=\"pending\";runOnJS(setActiveId)(activeId,activationDelay);}else{draggableActiveId.value=activeId;draggableActiveLayout.value=applyOffset(activeLayout,{x:activeOffset.x.value,y:activeOffset.y.value});draggableStates.value[activeId].value=\"dragging\";}if(onBegin){onBegin(event,{activeId:activeId,activeLayout:activeLayout});}}}"},O={code:"function mgcrea_DndProviderJs7(event){const{debug,panGestureState,draggableActiveId,draggablePendingId,draggableOptions,draggableLayouts,draggableOffsets,getDistance,runOnJS,clearActiveIdTimeout,draggableInitialOffset,draggableActiveLayout,applyOffset,droppableActiveId,findDroppableLayoutId,onUpdate}=this.__closure;const{state:state,translationX:translationX,translationY:translationY}=event;debug&&console.log(\"update\",{state:state,translationX:translationX,translationY:translationY});panGestureState.value=state;const{value:activeId}=draggableActiveId;const{value:pendingId}=draggablePendingId;const{value:options}=draggableOptions;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;if(activeId===null){if(pendingId!==null){const{activationTolerance:activationTolerance}=options[pendingId];const distance=getDistance(translationX,translationY);if(distance>activationTolerance){runOnJS(clearActiveIdTimeout)();draggablePendingId.value=null;}}return;}const activeOffset=offsets[activeId];activeOffset.x.value=draggableInitialOffset.x.value+translationX;activeOffset.y.value=draggableInitialOffset.y.value+translationY;const activeLayout=layouts[activeId].value;draggableActiveLayout.value=applyOffset(activeLayout,{x:activeOffset.x.value,y:activeOffset.y.value});droppableActiveId.value=findDroppableLayoutId(draggableActiveLayout.value);if(onUpdate){onUpdate(event,{activeId:activeId,activeLayout:draggableActiveLayout.value,droppableActiveId:droppableActiveId.value});}}"},I={code:"function mgcrea_DndProviderJs8(event){const{debug,panGestureState,draggableActiveId,draggablePendingId,draggableLayouts,draggableOffsets,draggableRestingOffsets,draggableStates,runOnJS,clearActiveIdTimeout,onFinalize,applyOffset,State,onDragEnd,droppableActiveId,draggableOptions,droppableOptions,animatePointWithSpring,springConfig}=this.__closure;const{state:state,velocityX:velocityX,velocityY:velocityY}=event;debug&&console.log(\"finalize\",{state:state,velocityX:velocityX,velocityY:velocityY});panGestureState.value=state;const{value:activeId}=draggableActiveId;const{value:pendingId}=draggablePendingId;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:restingOffsets}=draggableRestingOffsets;const{value:states}=draggableStates;if(activeId===null){if(pendingId!==null){runOnJS(clearActiveIdTimeout)();draggablePendingId.value=null;}return;}draggableActiveId.value=null;if(onFinalize){const activeLayout=layouts[activeId].value;const activeOffset=offsets[activeId];const updatedLayout=applyOffset(activeLayout,{x:activeOffset.x.value,y:activeOffset.y.value});onFinalize(event,{activeId:activeId,activeLayout:updatedLayout});}if(state!==State.FAILED&&onDragEnd){const{value:dropActiveId}=droppableActiveId;onDragEnd({active:draggableOptions.value[activeId],over:dropActiveId!==null?droppableOptions.value[dropActiveId]:null});}droppableActiveId.value=null;const activeOffset=offsets[activeId];const restingOffset=restingOffsets[activeId];states[activeId].value=\"acting\";const[targetX,targetY]=[restingOffset.x.value,restingOffset.y.value];animatePointWithSpring(activeOffset,[targetX,targetY],[{...springConfig,velocity:velocityX},{...springConfig,velocity:velocityY}],function([finishedX,finishedY]){if(panGestureState.value!==State.END&&panGestureState.value!==State.FAILED&&states[activeId].value!==\"acting\"){return;}if(states[activeId]){states[activeId].value=\"resting\";}if(!finishedX||!finishedY){}});}"};_e.DndProvider=(0,a.forwardRef)((function({children:e,springConfig:r={},minDistance:_=0,activationDelay:S=0,disabled:A,onActivation:D,onDragEnd:x,onBegin:L,onUpdate:h,onFinalize:P,shouldDropWorklet:J=o.overlapsRectangle,style:X,debug:Y},w){const j=(0,a.useRef)(null),k=(0,l.useSharedValue)({}),G=(0,l.useSharedValue)({}),R=(0,l.useSharedValue)({}),T=(0,l.useSharedValue)({}),V=(0,l.useSharedValue)({}),W=(0,l.useSharedValue)({}),C=(0,l.useSharedValue)({}),E=(0,l.useSharedValue)(null),F=(0,l.useSharedValue)(null),H=(0,l.useSharedValue)(null),z=(0,l.useSharedValue)(null),U=(0,s.useSharedPoint)(0,0),B=(0,s.useSharedPoint)(0,0),M=(0,l.useSharedValue)(0),N=(0,a.useRef)({containerRef:j,draggableLayouts:k,droppableLayouts:G,draggableOptions:R,droppableOptions:T,draggableOffsets:V,draggableRestingOffsets:W,draggableStates:C,draggablePendingId:E,draggableActiveId:F,droppableActiveId:H,panGestureState:M,draggableInitialOffset:U,draggableActiveLayout:z,draggableContentOffset:B});(0,a.useImperativeHandle)(w,(()=>({draggableLayouts:k,draggableOffsets:V,draggableRestingOffsets:W,draggableActiveId:F})),[]),(0,l.useAnimatedReaction)((function(){const e=()=>F.value;return e.__closure={draggableActiveId:F},e.__workletHash=0xddeb088288d,e.__initData=c,e})(),(function(){const e=function(e,a){null!==e&&D&&(0,l.runOnJS)(D)(e,a)};return e.__closure={onActivation:D,runOnJS:l.runOnJS},e.__workletHash=9041117269285,e.__initData=v,e})(),[]);const $=(0,a.useMemo)((()=>{const e=(function(){const e=function(e){const{x:a,y:t}=e,{value:n}=k,{value:l}=V,{value:i}=R;for(const[e,s]of Object.entries(n)){const n=l[e];if(!i[e].disabled&&(0,o.includesPoint)(s.value,{x:a-n.x.value+B.x.value,y:t-n.y.value+B.y.value}))return e}return null};return e.__closure={draggableLayouts:k,draggableOffsets:V,draggableOptions:R,includesPoint:o.includesPoint,draggableContentOffset:B},e.__workletHash=7157173435950,e.__initData=f,e})(),a=(function(){const e=function(e){const{value:a}=G,{value:t}=T;for(const[n,l]of Object.entries(a)){if(!t[n].disabled&&J(e,l.value))return n}return null};return e.__closure={droppableLayouts:G,droppableOptions:T,shouldDropWorklet:J},e.__workletHash=8338313121602,e.__initData=b,e})();let t=null;const i=()=>{t&&clearTimeout(t)},s=(e,a)=>{t=setTimeout((()=>{(0,l.runOnUI)((function(){const a=function(){Y&&console.log(`draggableActiveId.value = ${e}`),F.value=e,C.value[e].value="dragging"};return a.__closure={debug:Y,id:e,draggableActiveId:F,draggableStates:C},a.__workletHash=0xc59793faf2d,a.__initData=p,a})())()}),a)},u=n.Gesture.Pan().onBegin((function(){const a=function(a){const{state:t,x:n,y:i}=a;if(Y&&console.log("begin",{state:t,x:n,y:i}),A)return;M.value=t;const{value:u}=k,{value:r}=V,{value:c}=W,{value:v}=R,{value:f}=C,b=e({x:n,y:i});if(null!==b){const e=u[b].value,t=r[b],n=c[b],{value:i}=f[b];U.x.value=t.x.value,U.y.value=t.y.value,["dragging","acting"].includes(i)?((0,l.cancelAnimation)(t.x),(0,l.cancelAnimation)(t.y)):(n.x.value=t.x.value,n.y.value=t.y.value);const{activationDelay:p}=v[b];p>0?(E.value=b,C.value[b].value="pending",(0,l.runOnJS)(s)(b,p)):(F.value=b,z.value=(0,o.applyOffset)(e,{x:t.x.value,y:t.y.value}),C.value[b].value="dragging"),L&&L(a,{activeId:b,activeLayout:e})}};return a.__closure={debug:Y,disabled:A,panGestureState:M,draggableLayouts:k,draggableOffsets:V,draggableRestingOffsets:W,draggableOptions:R,draggableStates:C,findActiveLayoutId:e,draggableInitialOffset:U,cancelAnimation:l.cancelAnimation,draggablePendingId:E,runOnJS:l.runOnJS,setActiveId:s,draggableActiveId:F,draggableActiveLayout:z,applyOffset:o.applyOffset,onBegin:L},a.__workletHash=0x945362ba316,a.__initData=y,a})()).onUpdate((function(){const e=function(e){const{state:t,translationX:n,translationY:s}=e;Y&&console.log("update",{state:t,translationX:n,translationY:s}),M.value=t;const{value:u}=F,{value:r}=E,{value:c}=R,{value:v}=k,{value:f}=V;if(null===u){if(null!==r){const{activationTolerance:e}=c[r];(0,o.getDistance)(n,s)>e&&((0,l.runOnJS)(i)(),E.value=null)}return}const b=f[u];b.x.value=U.x.value+n,b.y.value=U.y.value+s;const p=v[u].value;z.value=(0,o.applyOffset)(p,{x:b.x.value,y:b.y.value}),H.value=a(z.value),h&&h(e,{activeId:u,activeLayout:z.value,droppableActiveId:H.value})};return e.__closure={debug:Y,panGestureState:M,draggableActiveId:F,draggablePendingId:E,draggableOptions:R,draggableLayouts:k,draggableOffsets:V,getDistance:o.getDistance,runOnJS:l.runOnJS,clearActiveIdTimeout:i,draggableInitialOffset:U,draggableActiveLayout:z,applyOffset:o.applyOffset,droppableActiveId:H,findDroppableLayoutId:a,onUpdate:h},e.__workletHash=0xcd61c1264a4,e.__initData=O,e})()).onFinalize((function(){const e=function(e){const{state:a,velocityX:t,velocityY:s}=e;Y&&console.log("finalize",{state:a,velocityX:t,velocityY:s}),M.value=a;const{value:u}=F,{value:c}=E,{value:v}=k,{value:f}=V,{value:b}=W,{value:p}=C;if(null===u)return void(null!==c&&((0,l.runOnJS)(i)(),E.value=null));if(F.value=null,P){const a=v[u].value,t=f[u],n=(0,o.applyOffset)(a,{x:t.x.value,y:t.y.value});P(e,{activeId:u,activeLayout:n})}if(a!==n.State.FAILED&&x){const{value:e}=H;x({active:R.value[u],over:null!==e?T.value[e]:null})}H.value=null;const y=f[u],O=b[u];p[u].value="acting";const[I,_]=[O.x.value,O.y.value];(0,o.animatePointWithSpring)(y,[I,_],[Object.assign({},r,{velocity:t}),Object.assign({},r,{velocity:s})],(([e,a])=>{M.value!==n.State.END&&M.value!==n.State.FAILED&&"acting"!==p[u].value||p[u]&&(p[u].value="resting")}))};return e.__closure={debug:Y,panGestureState:M,draggableActiveId:F,draggablePendingId:E,draggableLayouts:k,draggableOffsets:V,draggableRestingOffsets:W,draggableStates:C,runOnJS:l.runOnJS,clearActiveIdTimeout:i,onFinalize:P,applyOffset:o.applyOffset,State:n.State,onDragEnd:x,droppableActiveId:H,draggableOptions:R,droppableOptions:T,animatePointWithSpring:o.animatePointWithSpring,springConfig:r},e.__workletHash=9759437001837,e.__initData=I,e})()).withTestId("DndProvider.pan");return S>0&&u.activateAfterLongPress(S),_>0&&u.minDistance(_),u}),[A]);return(0,u.jsx)(i.DndContext.Provider,{value:N.current,children:(0,u.jsx)(n.GestureDetector,{gesture:$,children:(0,u.jsx)(t.default,{ref:j,collapsable:!1,style:X,testID:"view",children:e})})})}))}),1653,[1,16,281,376,131,1631,1629,1635,370]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))}),1654,[1655]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}),1655,[1656,1662]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}),1656,[1657,1660]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DraggableGrid=void 0;var r=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n})(_r(d[1])),t=e(_r(d[2])),n=_r(d[3]),a=_r(d[4]),o=_r(d[5]);function i(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:r})(e)}_e.DraggableGrid=({children:e,direction:i="row",gap:l=0,onOrderChange:u,onOrderUpdate:f,shouldSwapWorklet:p,size:c,style:s})=>{const O=(0,n.useChildrenIds)(e),y=(0,r.useMemo)((()=>Object.assign({flexDirection:i,gap:l,flexWrap:"wrap"},s)),[l,i,s]);return(0,a.useDraggableGrid)({direction:y.flexDirection,gap:y.gap,childrenIds:O,onOrderChange:u,onOrderUpdate:f,shouldSwapWorklet:p,size:c}),(0,o.jsx)(t.default,{style:y,children:e})}}),1657,[1,16,281,1629,1658,370]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggableGrid=void 0;var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]);const l={code:"function mgcrea_useDraggableGridJs1(){const{draggableSortOrder}=this.__closure;return draggableSortOrder.value;}"},c={code:"function mgcrea_useDraggableGridJs2(nextOrder,prevOrder){const{draggableActiveId,draggableLayouts,draggableOffsets,draggableRestingOffsets,size,direction,gap}=this.__closure;if(prevOrder===null){return;}const{value:activeId}=draggableActiveId;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:restingOffsets}=draggableRestingOffsets;if(!activeId){return;}const activeLayout=layouts[activeId].value;const{width:width,height:height}=activeLayout;const restingOffset=restingOffsets[activeId];for(let nextIndex=0;nextIndex<nextOrder.length;nextIndex++){const itemId=nextOrder[nextIndex];const prevIndex=prevOrder.findIndex(function(id){return id===itemId;});if(nextIndex===prevIndex){continue;}const prevRow=Math.floor(prevIndex/size);const prevCol=prevIndex%size;const nextRow=Math.floor(nextIndex/size);const nextCol=nextIndex%size;const moveCol=nextCol-prevCol;const moveRow=nextRow-prevRow;const offset=itemId===activeId?restingOffset:offsets[itemId];switch(direction){case\"row\":offset.x.value+=moveCol*(width+gap);offset.y.value+=moveRow*(height+gap);break;case\"row-reverse\":offset.x.value+=-1*moveCol*(width+gap);offset.y.value+=moveRow*(height+gap);break;case\"column\":offset.y.value+=moveCol*(width+gap);offset.x.value+=moveRow*(height+gap);break;case\"column-reverse\":offset.y.value+=-1*moveCol*(width+gap);offset.x.value+=moveRow*(height+gap);break;default:break;}}}"};e.useDraggableGrid=({childrenIds:u,onOrderChange:f,onOrderUpdate:v,gap:h=0,size:x,direction:b="row",shouldSwapWorklet:I=o.doesCenterPointOverlap})=>{const{draggableActiveId:w,draggableOffsets:O,draggableRestingOffsets:p,draggableLayouts:_}=(0,n.useDndContext)(),y=["row","row-reverse"].includes(b),{draggablePlaceholderIndex:R,draggableSortOrder:C}=(0,s.useDraggableSort)({horizontal:y,childrenIds:u,onOrderChange:f,onOrderUpdate:v,shouldSwapWorklet:I});return(0,t.useAnimatedReaction)((function(){const t=()=>C.value;return t.__closure={draggableSortOrder:C},t.__workletHash=9830755986628,t.__initData=l,t})(),(function(){const t=function(t,o){if(null===o)return;const{value:n}=w,{value:s}=_,{value:l}=O,{value:c}=p;if(!n)return;const u=s[n].value,{width:f,height:v}=u,I=c[n];for(let s=0;s<t.length;s++){const c=t[s],u=o.findIndex((t=>t===c));if(s===u)continue;const w=Math.floor(u/x),O=u%x,p=Math.floor(s/x),_=s%x-O,y=p-w,R=c===n?I:l[c];switch(b){case"row":R.x.value+=_*(f+h),R.y.value+=y*(v+h);break;case"row-reverse":R.x.value+=-1*_*(f+h),R.y.value+=y*(v+h);break;case"column":R.y.value+=_*(f+h),R.x.value+=y*(v+h);break;case"column-reverse":R.y.value+=-1*_*(f+h),R.x.value+=y*(v+h)}}};return t.__closure={draggableActiveId:w,draggableLayouts:_,draggableOffsets:O,draggableRestingOffsets:p,size:x,direction:b,gap:h},t.__workletHash=1837719982789,t.__initData=c,t})(),[b,h,x]),{draggablePlaceholderIndex:R,draggableSortOrder:C}}}),1658,[131,1635,1631,1659]);
__d((function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggableSort=void 0;var t=r(d[0]),a=r(d[1]),n=r(d[2]);const l={code:"function mgcrea_useDraggableSortJs1(activeLayout){const{draggableActiveId,draggableLayouts,draggableOffsets,draggableSortOrder,applyOffset,shouldSwapWorklet,direction}=this.__closure;const{value:activeId}=draggableActiveId;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:sortOrder}=draggableSortOrder;const activeIndex=sortOrder.findIndex(function(id){return id===activeId;});for(let itemIndex=0;itemIndex<sortOrder.length;itemIndex++){const itemId=sortOrder[itemIndex];if(itemId===activeId){continue;}if(!layouts[itemId]){console.warn(\"Unexpected missing layout \"+itemId+\" in layouts!\");continue;}const itemLayout=applyOffset(layouts[itemId].value,{x:offsets[itemId].x.value,y:offsets[itemId].y.value});if(shouldSwapWorklet(activeLayout,itemLayout,direction)){return itemIndex;}continue;}return activeIndex;}"},o={code:"function mgcrea_useDraggableSortJs2(){const{childrenIds}=this.__closure;return childrenIds;}"},u={code:"function mgcrea_useDraggableSortJs3(next,prev){const{draggableSortOrder,draggableLayouts,horizontal,onOrderChange,runOnJS}=this.__closure;if(prev===null||prev.length===0){return;}const removedIds=prev.filter(function(id){return!next.includes(id);});if(removedIds.length>0){draggableSortOrder.value=draggableSortOrder.value.filter(function(itemId){return!removedIds.includes(itemId);});}const layouts=draggableLayouts.value;const addedIds=next.filter(function(id){return!prev.includes(id);});addedIds.forEach(function(id){const positionEntries=Object.entries(layouts).map(function([key,layout]){return[key,layout.value[horizontal?\"x\":\"y\"]];});positionEntries.sort(function(a,b){return a[1]-b[1];});const index=positionEntries.findIndex(function([key]){return key===id;});const nextOrder=draggableSortOrder.value.slice();nextOrder.splice(index,0,id);draggableSortOrder.value=nextOrder;});if(onOrderChange&&(removedIds.length>0||addedIds.length>0)){runOnJS(onOrderChange)(draggableSortOrder.value);}}"},c={code:"function mgcrea_useDraggableSortJs4(){const{draggableActiveId,draggableActiveLayout}=this.__closure;return[draggableActiveId.value,draggableActiveLayout.value];}"},s={code:"function mgcrea_useDraggableSortJs5([nextActiveId,nextActiveLayout],prev){const{draggablePlaceholderIndex,childrenIds,findPlaceholderIndex}=this.__closure;if(prev===null){return;}const[_prevActiveId,_prevActiveLayout]=prev;if(nextActiveLayout===null){return;}if(nextActiveId===null){draggablePlaceholderIndex.value=-1;return;}if(!childrenIds.includes(nextActiveId)){return;}draggablePlaceholderIndex.value=findPlaceholderIndex(nextActiveLayout);}"},v={code:"function mgcrea_useDraggableSortJs6(){const{draggableActiveId,draggablePlaceholderIndex}=this.__closure;return[draggableActiveId.value,draggablePlaceholderIndex.value];}"},f={code:"function mgcrea_useDraggableSortJs7(next,prev){const{draggableSortOrder,onOrderChange,arraysEqual,draggableLastOrder,runOnJS,moveArrayIndex,onOrderUpdate}=this.__closure;if(prev===null){return;}const[_prevActiveId,prevPlaceholderIndex]=prev;const[nextActiveId,nextPlaceholderIndex]=next;const{value:prevOrder}=draggableSortOrder;if(prevPlaceholderIndex!==-1&&nextPlaceholderIndex===-1){if(nextActiveId===null&&onOrderChange){if(!arraysEqual(prevOrder,draggableLastOrder.value)){runOnJS(onOrderChange)(prevOrder);}draggableLastOrder.value=prevOrder;}}if(prevPlaceholderIndex===-1||nextPlaceholderIndex===-1){return;}const nextOrder=moveArrayIndex(prevOrder,prevPlaceholderIndex,nextPlaceholderIndex);if(onOrderUpdate){runOnJS(onOrderUpdate)(nextOrder,prevOrder);}draggableSortOrder.value=nextOrder;}"};e.useDraggableSort=({horizontal:I=!1,childrenIds:O,onOrderChange:h,onOrderUpdate:x,shouldSwapWorklet:_=n.doesOverlapOnAxis})=>{const{draggableActiveId:b,draggableActiveLayout:y,draggableOffsets:p,draggableLayouts:S}=(0,a.useDndContext)(),A=I?"horizontal":"vertical",L=(0,t.useSharedValue)(-1),P=(0,t.useSharedValue)(O),J=(0,t.useSharedValue)(O),D=(function(){const t=function(t){const{value:a}=b,{value:l}=S,{value:o}=p,{value:u}=J,c=u.findIndex((t=>t===a));for(let c=0;c<u.length;c++){const s=u[c];if(s===a)continue;if(!l[s]){console.warn(`Unexpected missing layout ${s} in layouts!`);continue}const v=(0,n.applyOffset)(l[s].value,{x:o[s].x.value,y:o[s].y.value});if(_(t,v,A))return c}return c};return t.__closure={draggableActiveId:b,draggableLayouts:S,draggableOffsets:p,draggableSortOrder:J,applyOffset:n.applyOffset,shouldSwapWorklet:_,direction:A},t.__workletHash=522888642973,t.__initData=l,t})();return(0,t.useAnimatedReaction)((function(){const t=()=>O;return t.__closure={childrenIds:O},t.__workletHash=6614921508704,t.__initData=o,t})(),(function(){const a=function(a,n){if(null===n||0===n.length)return;const l=n.filter((t=>!a.includes(t)));l.length>0&&(J.value=J.value.filter((t=>!l.includes(t))));const o=S.value,u=a.filter((t=>!n.includes(t)));u.forEach((t=>{const a=Object.entries(o).map((([t,a])=>[t,a.value[I?"x":"y"]]));a.sort(((t,a)=>t[1]-a[1]));const n=a.findIndex((([a])=>a===t)),l=J.value.slice();l.splice(n,0,t),J.value=l})),h&&(l.length>0||u.length>0)&&(0,t.runOnJS)(h)(J.value)};return a.__closure={draggableSortOrder:J,draggableLayouts:S,horizontal:I,onOrderChange:h,runOnJS:t.runOnJS},a.__workletHash=1655491453528,a.__initData=u,a})(),[O,h]),(0,t.useAnimatedReaction)((function(){const t=()=>[b.value,y.value];return t.__closure={draggableActiveId:b,draggableActiveLayout:y},t.__workletHash=2093979417312,t.__initData=c,t})(),(function(){const t=function([t,a],n){if(null===n)return;const[l,o]=n;null!==a&&(null!==t?O.includes(t)&&(L.value=D(a)):L.value=-1)};return t.__closure={draggablePlaceholderIndex:L,childrenIds:O,findPlaceholderIndex:D},t.__workletHash=0xdb6bab8f972,t.__initData=s,t})(),[O]),(0,t.useAnimatedReaction)((function(){const t=()=>[b.value,L.value];return t.__closure={draggableActiveId:b,draggablePlaceholderIndex:L},t.__workletHash=0x9cec5ae0e02,t.__initData=v,t})(),(function(){const a=function(a,l){if(null===l)return;const[o,u]=l,[c,s]=a,{value:v}=J;if(-1!==u&&-1===s&&null===c&&h&&((0,n.arraysEqual)(v,P.value)||(0,t.runOnJS)(h)(v),P.value=v),-1===u||-1===s)return;const f=(0,n.moveArrayIndex)(v,u,s);x&&(0,t.runOnJS)(x)(f,v),J.value=f};return a.__closure={draggableSortOrder:J,onOrderChange:h,arraysEqual:n.arraysEqual,draggableLastOrder:P,runOnJS:t.runOnJS,moveArrayIndex:n.moveArrayIndex,onOrderUpdate:x},a.__workletHash=0x951f0ed5676,a.__initData=f,a})(),[h]),{draggablePlaceholderIndex:L,draggableSortOrder:J}}}),1659,[131,1631,1635]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.DraggableStack=void 0;var e=f(_r(d[0])),r=f(_r(d[1])),t=_r(d[2]),n=_r(d[3]),o=_r(d[4]);function a(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:r})(e)}function f(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in e)if("default"!==f&&{}.hasOwnProperty.call(e,f)){var l=o?Object.getOwnPropertyDescriptor(e,f):null;l&&(l.get||l.set)?Object.defineProperty(n,f,l):n[f]=e[f]}return n.default=e,t&&t.set(e,n),n}_e.DraggableStack=(0,e.forwardRef)((function({children:a,direction:f="row",gap:l=0,onOrderChange:u,onOrderUpdate:i,shouldSwapWorklet:s,style:c},p){const O=(0,t.useChildrenIds)(a),h=(0,e.useMemo)((()=>Object.assign({flexDirection:f,gap:l},c)),[l,f,c]),w=["row","row-reverse"].includes(h.flexDirection),{refreshOffsets:y,resetSortOrder:b}=(0,n.useDraggableStack)({gap:h.gap,horizontal:w,childrenIds:O,onOrderChange:u,onOrderUpdate:i,shouldSwapWorklet:s});return(0,e.useImperativeHandle)(p,(()=>({refreshOffsets:y,resetSortOrder:b})),[y,b]),(0,e.useEffect)((()=>{(0,r.runOnUI)(y)()}),[O,y]),(0,o.jsx)(r.default.View,{style:h,children:a})}))}),1660,[16,131,1629,1661,370]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useDraggableStack=void 0;var t=r(d[0]),n=r(d[1]),s=r(d[2]),o=r(d[3]),l=r(d[4]);const u={code:"function mgcrea_useDraggableStackJs1(id){const{horizontal,draggableLayouts,draggableSortOrder,childrenIds,gap}=this.__closure;const size=horizontal?\"width\":\"height\";const{value:layouts}=draggableLayouts;const{value:sortOrder}=draggableSortOrder;const nextIndex=sortOrder.findIndex(function(itemId){return itemId===id;});const prevIndex=childrenIds.findIndex(function(itemId){return itemId===id;});let offset=0;for(let nextSiblingIndex=0;nextSiblingIndex<sortOrder.length;nextSiblingIndex++){const siblingId=sortOrder[nextSiblingIndex];if(siblingId===id){continue;}if(!layouts[siblingId]){continue;}const prevSiblingIndex=childrenIds.findIndex(function(itemId){return itemId===siblingId;});if(nextSiblingIndex<nextIndex&&prevSiblingIndex>prevIndex){offset+=layouts[siblingId].value[size]+gap;}else if(nextSiblingIndex>nextIndex&&prevSiblingIndex<prevIndex){offset-=layouts[siblingId].value[size]+gap;}}return offset;}"},f={code:"function mgcrea_useDraggableStackJs2(){const{horizontal,draggableStates,draggableOffsets,draggableRestingOffsets,draggableSortOrder,computeOffsetsForItem}=this.__closure;requestAnimationFrame(function(){const axis=horizontal?\"x\":\"y\";const{value:states}=draggableStates;const{value:offsets}=draggableOffsets;const{value:restingOffsets}=draggableRestingOffsets;const{value:sortOrder}=draggableSortOrder;for(const itemId of sortOrder){if(!offsets[itemId]){continue;}states[itemId].value=\"sleeping\";offsets[itemId][axis].value=computeOffsetsForItem(itemId);restingOffsets[itemId][axis].value=offsets[itemId][axis].value;}requestAnimationFrame(function(){for(const itemId of sortOrder){if(!offsets[itemId]){continue;}states[itemId].value=\"resting\";}});});}"},c={code:"function mgcrea_useDraggableStackJs3(){const{childrenIds}=this.__closure;return childrenIds;}"},v={code:"function mgcrea_useDraggableStackJs4(next,prev){const{arraysEqual,refreshOffsets}=this.__closure;if(prev===null){return;}if(arraysEqual(next,prev)){return;}refreshOffsets();}"},I={code:"function mgcrea_useDraggableStackJs5(){const{draggableSortOrder}=this.__closure;return draggableSortOrder.value;}"},x={code:"function mgcrea_useDraggableStackJs6(nextOrder,prevOrder){const{draggableActiveId,draggableLayouts,draggableOffsets,draggableRestingOffsets,axis,size,gap}=this.__closure;if(prevOrder===null){return;}const{value:activeId}=draggableActiveId;const{value:layouts}=draggableLayouts;const{value:offsets}=draggableOffsets;const{value:restingOffsets}=draggableRestingOffsets;if(!activeId){return;}const activeLayout=layouts[activeId].value;const prevActiveIndex=prevOrder.findIndex(function(id){return id===activeId;});const nextActiveIndex=nextOrder.findIndex(function(id){return id===activeId;});const nextActiveOffset={x:0,y:0};const restingOffset=restingOffsets[activeId];for(let nextIndex=0;nextIndex<nextOrder.length;nextIndex++){const itemId=nextOrder[nextIndex];if(itemId===activeId){continue;}const prevIndex=prevOrder.findIndex(function(id){return id===itemId;});if(nextIndex===prevIndex){continue;}const moveCol=nextIndex-prevIndex;offsets[itemId][axis].value=restingOffsets[itemId][axis].value+moveCol*(activeLayout[size]+gap);restingOffsets[itemId][axis].value=offsets[itemId][axis].value;if(nextIndex<nextActiveIndex&&prevIndex>prevActiveIndex){nextActiveOffset[axis]+=layouts[itemId].value[size]+gap;}else if(nextIndex>nextActiveIndex&&prevIndex<prevActiveIndex){nextActiveOffset[axis]-=layouts[itemId].value[size]+gap;}}restingOffset[axis].value+=nextActiveOffset[axis];}"};e.useDraggableStack=({childrenIds:b,onOrderChange:O,onOrderUpdate:_,gap:h=0,horizontal:p=!1,shouldSwapWorklet:S=o.doesOverlapOnAxis})=>{const{draggableStates:y,draggableActiveId:A,draggableOffsets:k,draggableRestingOffsets:z,draggableLayouts:D}=(0,s.useDndContext)(),w=p?"x":"y",q=p?"width":"height",{draggablePlaceholderIndex:L,draggableSortOrder:R}=(0,l.useDraggableSort)({horizontal:p,childrenIds:b,onOrderChange:O,onOrderUpdate:_,shouldSwapWorklet:S}),C=(0,t.useCallback)((function(){const t=function(t){const n=p?"width":"height",{value:s}=D,{value:o}=R,l=o.findIndex((n=>n===t)),u=b.findIndex((n=>n===t));let f=0;for(let c=0;c<o.length;c++){const v=o[c];if(v===t)continue;if(!s[v])continue;const I=b.findIndex((t=>t===v));c<l&&I>u?f+=s[v].value[n]+h:c>l&&I<u&&(f-=s[v].value[n]+h)}return f};return t.__closure={horizontal:p,draggableLayouts:D,draggableSortOrder:R,childrenIds:b,gap:h},t.__workletHash=3199807695882,t.__initData=u,t})(),[D,R,h,p,b]),F=(0,t.useCallback)((function(){const t=function(){requestAnimationFrame((()=>{const t=p?"x":"y",{value:n}=y,{value:s}=k,{value:o}=z,{value:l}=R;for(const u of l)s[u]&&(n[u].value="sleeping",s[u][t].value=C(u),o[u][t].value=s[u][t].value);requestAnimationFrame((()=>{for(const t of l)s[t]&&(n[t].value="resting")}))}))};return t.__closure={horizontal:p,draggableStates:y,draggableOffsets:k,draggableRestingOffsets:z,draggableSortOrder:R,computeOffsetsForItem:C},t.__workletHash=1222106644347,t.__initData=f,t})(),[C,k,z,R,y,p]),H=(0,t.useCallback)((()=>{R.value=b.slice(),F()}),[b,R,F]);return(0,n.useAnimatedReaction)((function(){const t=()=>b;return t.__closure={childrenIds:b},t.__workletHash=7229253980789,t.__initData=c,t})(),(function(){const t=function(t,n){null!==n&&((0,o.arraysEqual)(t,n)||F())};return t.__closure={arraysEqual:o.arraysEqual,refreshOffsets:F},t.__workletHash=9256531361347,t.__initData=v,t})(),[b]),(0,n.useAnimatedReaction)((function(){const t=()=>R.value;return t.__closure={draggableSortOrder:R},t.__workletHash=4820003685974,t.__initData=I,t})(),(function(){const t=function(t,n){if(null===n)return;const{value:s}=A,{value:o}=D,{value:l}=k,{value:u}=z;if(!s)return;const f=o[s].value,c=n.findIndex((t=>t===s)),v=t.findIndex((t=>t===s)),I={x:0,y:0},x=u[s];for(let x=0;x<t.length;x++){const b=t[x];if(b===s)continue;const O=n.findIndex((t=>t===b));if(x===O)continue;const _=x-O;l[b][w].value=u[b][w].value+_*(f[q]+h),u[b][w].value=l[b][w].value,x<v&&O>c?I[w]+=o[b].value[q]+h:x>v&&O<c&&(I[w]-=o[b].value[q]+h)}x[w].value+=I[w]};return t.__closure={draggableActiveId:A,draggableLayouts:D,draggableOffsets:k,draggableRestingOffsets:z,axis:w,size:q,gap:h},t.__workletHash=7898922594545,t.__initData=x,t})(),[p]),{draggablePlaceholderIndex:L,draggableSortOrder:R,resetSortOrder:H,refreshOffsets:F}}}),1661,[16,131,1631,1635,1659]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}));var u=r(d[2]);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===u[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return u[n]}}))}))}),1662,[1658,1659,1661]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var t=r(d[1]);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))}))}),1663,[1664,1665]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})}),1664,[]);
__d((function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0})}),1665,[]);