__d((function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(r(d[1]));var t=r(d[2]),o=r(d[3]),c=r(d[4]),s=r(d[5]),u=n(r(d[6])),l=r(d[7]),S=r(d[8]);const f=(0,s.createDrawerNavigator)();e.default=({route:n})=>(0,S.jsx)(t.BacExamProvider,{route:n,children:(0,S.jsxs)(f.Navigator,{id:void 0,initialRouteName:u.default.BacQuestionScreen,screenOptions:{headerShown:!1,drawerPosition:'left',drawerStyle:{width:'90%'}},drawerContent:n=>(0,S.jsx)(l.QuestionDrawerContent,Object.assign({},n)),children:[(0,S.jsx)(f.Screen,{name:u.default.BacQuestionScreen,component:o.BacQuestionScreen}),(0,S.jsx)(f.Screen,{name:u.default.BacExamFinalScoreScreen,component:c.BacExamFinalScoreScreen})]})})}),1573,[1,16,1666,1669,1673,1674,973,1697,370]);
__d((function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.useBacExam=_e.BacExamProvider=void 0;var t=r(d[1]),s=r(d[2]),o=r(d[3]),n=r(d[4]),u=e(r(d[5])),c=e(r(d[6])),l=r(d[7]),_=(e(r(d[8])),e(r(d[9]))),p=(e(r(d[10])),e(r(d[11]))),f=r(d[12]),S=r(d[13]);const h=(0,l.createContext)(null);_e.BacExamProvider=({route:e,children:_})=>{const{bacSession:x}=e.params,B=(0,n.useNavigation)(),{setBottomSheetBackgroundColor:y,openBottomSheet:C,hideBottomSheet:v,openBottomSheetScrollView:k}=((0,p.default)((e=>e.updateBacSessionLocally)),(0,o.useBottomSheet)()),w=(0,l.useRef)(!1),[E,T]=(0,l.useState)(0),[q,j]=(0,l.useState)([]),[F,I]=(0,l.useState)(!1),[A,P]=(0,l.useState)(!1),[O,R]=(0,l.useState)(x),[L,N]=(0,l.useState)(void 0),[D,J]=(0,l.useState)(void 0),[M,Q]=(0,l.useState)(void 0),[z,U]=(0,l.useState)([]),[V,$]=(0,l.useState)(0),[G,H]=(0,l.useState)([]),[K,W]=(0,l.useState)(!1),[X,Y]=(0,l.useState)(0),[Z,ee]=(0,l.useState)([]),te=(z.length,60),se=(oe=z.length)<=4?3e3:oe<=8?3500:oe<=12?4e3:oe<=16?4500:5e3;var oe;(0,l.useEffect)((()=>{const e=setInterval((()=>T((e=>e+1))),1e3);return()=>clearInterval(e)}),[]);const ne=async(e=!1)=>{P(!0);try{const t=await u.default.get(`bac/exam-session/start/${x.id}`,{params:{reset:e}});N(t.data?.exam),Q(t.data?.session),J(t.data?.module),U(t.data?.questions||[]),H(t.data?.progress||[]);const s=t.data?.questions?.length||0,o=t.data?.current_question_index||0,n=s>=o?Math.max(o-1,0):o;$(n),T(t.data?.global_time||0);const c=t.data?.questions[n];if(c){const e=c.correction?.length||1,s=t.data?.progress.find((e=>e.bac_question_id===c.id));if(s&&s.user_responses)try{const t=JSON.parse(s.user_responses);ee(t.slice(0,e))}catch(t){console.error("Error parsing user_responses:",t),ee(Array(e).fill(""))}else ee(Array(e).fill(""))}t.data?.current_question_index>1&&ie()}catch(e){console.error("Fetch error: ",e)}finally{P(!1)}};(0,l.useEffect)((()=>{ne()}),[]),(0,l.useEffect)((()=>{const e=z[V];if(e){const t=e.correction?.length||1,s=G.find((t=>t.bac_question_id===e.id));if(s&&s.user_responses)try{const e=JSON.parse(s.user_responses);ee(e.slice(0,t))}catch(e){console.error("Error parsing user_responses:",e),ee(Array(t).fill(""))}else ee(Array(t).fill(""))}}),[V,z,G]);const re=()=>{w.current=!0,v(),B.goBack()},ae=(0,l.useCallback)((()=>(C((0,S.jsx)(t.BottomSheetComponent,{title:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631\u061f",rightComponent:(0,S.jsx)(s.SubmitButton,{enabledText:"\u0646\u0639\u0645 \u062a\u0648\u0642\u0641",onPress:re,style:{marginTop:0,backgroundColor:c.default.wrongAnswer}})}),[200,200]),!0)),[]);(0,n.useFocusEffect)((0,l.useCallback)((()=>{const e=B.addListener("beforeRemove",(e=>{w.current||(e.preventDefault(),ae())}));return()=>{e(),w.current=!1}}),[ae,B]));const ie=()=>(C((0,S.jsx)(t.BottomSheetComponent,{title:"\u062a\u0631\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646 \u0623\u0648 \u0627\u0644\u0627\u0633\u062a\u0645\u0631\u0627\u0631 \u0641\u064a\u0647\u061f",leftText:"\u0627\u0644\u0627\u0633\u062a\u0645\u0631\u0627\u0631",leftBackgroundColor:c.default.correctAnswer,rightComponent:(0,S.jsx)(s.SubmitButton,{enabledText:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0627\u0645\u062a\u062d\u0627\u0646",onPress:ue,style:{marginTop:0,backgroundColor:c.default.wrongAnswer}})}),[200,200]),!0),ue=()=>{C((0,S.jsx)(t.BottomSheetComponent,{title:"\u062a\u0623\u0643\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0627\u062e\u062a\u0628\u0627\u0631",rightComponent:(0,S.jsx)(s.SubmitButton,{enabledText:"\u062a\u0623\u0643\u064a\u062f",onPress:async()=>{await ne(!0),v()},style:{marginTop:0,backgroundColor:c.default.wrongAnswer}})}),[250,250])},ce={openedSession:O,thisExam:L,thisModule:D,questions:z,currentQuestionIndex:V,setCurrentQuestionIndex:$,submitResponse:async(e,t,s)=>{I(!0);try{const o=await u.default.post("bac/exam-session/submit-response",{user_session_uuid:M.user_session_uuid,bac_session_id:x.id,bac_exam_id:L.id,bac_question_id:e,user_response_json:t,time_taken:s,global_time:E});return H((o=>{const n=o.findIndex((t=>t.bac_question_id===e)),u=[...o],c={bac_question_id:e,user_responses:JSON.stringify(t),is_completed:!0,time_taken:s};return n>=0?u[n]=c:u.push(c),u})),o.data}catch(e){throw console.error("Submit error: ",e),e}finally{W(!1),I(!1)}},isLoading:A,userResponses:Z,setUserResponses:ee,isSubmitted:K,setTimeTaken:Y,timeTaken:X,handleOnBackPressed:ae,thisSession:M,globalTime:E,progressColors:q,openFinalScoreBottomSheet:({final_score:e=null,duration_final:t=null,remarks:s=null,responses:o=[]})=>{const n=e>=16?"#4CAF50":e>=10?"#FF9800":"#F44336";y(c.default.progressBackground),k((0,S.jsx)(f.BacExamFinalizeScreen,{scoreColor:n,final_score:e,duration_final:t,remarks:s,responses:o,exitTheQuiz:re,bacSessionId:x.id,userSessionId:M.user_session_uuid}),[.6*b,.9*b])},setIsSubmitted:W,progress:G,waitingDuration:te,retryDelay:se,setIsLoading:P,isFetching:F,setIsFetching:I};return(0,S.jsx)(h.Provider,{value:ce,children:_})};_e.useBacExam=()=>(0,l.useContext)(h);const{height:b}=_.default.get("window")}),1666,[1,1546,1483,372,857,799,366,16,1069,284,85,1547,1667,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BacExamFinalizeScreen=void 0;var r=_r(d[1]),t=e(_r(d[2])),o=_r(d[3]),a=e(_r(d[4])),n=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var s=a?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o})(_r(d[5])),s=e(_r(d[6])),l=e(_r(d[7])),i=e(_r(d[8])),c=e(_r(d[9])),u=e(_r(d[10])),f=e(_r(d[11])),p=_r(d[12]),_=_r(d[13]);function x(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(x=function(e){return e?t:r})(e)}const{height:h}=s.default.get('screen');_e.BacExamFinalizeScreen=({final_score:e,duration_final:s,remarks:i,responses:x,exitTheQuiz:h,bacSessionId:b,userSessionId:y})=>{const{setFooterBottomSheetComponent:k}=(0,o.useBottomSheet)(),S=(0,f.default)((e=>e.updateBacSessionLocally)),[j,C]=(0,n.useState)(!0),[F,z]=(0,n.useState)({final_score:e||0,duration_final:s||0,remarks:i||'',responses:x||[]}),[A,v]=(0,n.useState)(void 0),[B,T]=(0,n.useState)(60),I=async()=>{try{const e=await u.default.post(`bac/exam-session/finalize-bulk/${y}`);return console.log('finalizeSession response:',e.data),e.data}catch(e){throw console.error('Finalize session error:',e),e}};(0,n.useEffect)((()=>{if(!j)return;const e=setInterval((()=>{T((e=>e<=1?60:e-1))}),1e3);return()=>clearInterval(e)}),[j]),(0,n.useEffect)((()=>{k((0,_.jsx)(c.default,{style:w.footerContainer,children:(0,_.jsx)(r.SubmitButton,{enabledText:"\u062e\u0631\u0648\u062c",onPress:()=>{console.log('Exit button pressed'),h()},disabledText:"\u062e\u0631\u0648\u062c",isDisabled:j,isFetching:!1,style:w.exitButton})}))}),[j,h]),(0,n.useEffect)((()=>{let e;return(async()=>{try{const r=await I();if(console.log('Initial response:',r),'completed'===r.status&&r.result){const e=r.result.map((e=>({question:e.question||'\u0633\u0624\u0627\u0644 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631',user_response:e.user_answers.map((e=>({text:e.answer,partial_score:e.user_answer_score,max_score:e.correct_answer_score,status:e.user_answer_score===e.correct_answer_score?'green':e.user_answer_score>0?'orange':'red',explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631'}))),correct_answers:e.correct_answers.map((e=>({component:e.answer,scale:e.answer_original_score}))),user_score:e.user_answers_score||0,full_mark:e.correct_answer_score||0,explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631 \u0639\u0627\u0645'})));z({final_score:parseFloat(r.user_total_score)||0,duration_final:parseFloat(r.duration_final)||0,remarks:r.result[0]?.explanation||'\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a',responses:e}),v({full_mark:parseFloat(r.exam_total_score)||0}),S(b,{final_score:parseFloat(r.user_total_score)||0,duration_final:parseFloat(r.duration_final)||0,remarks:r.result[0]?.explanation||'\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645'}),C(!1)}else'processing'===r.status?e=setInterval((async()=>{const r=await I();if(console.log('Polling status:',r.status),'completed'===r.status&&r.result){const t=r.result.map((e=>({question:e.question||'\u0633\u0624\u0627\u0644 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631',user_response:e.user_answers.map((e=>({text:e.answer,partial_score:e.user_answer_score,max_score:e.correct_answer_score,status:e.user_answer_score===e.correct_answer_score?'green':e.user_answer_score>0?'orange':'red',explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631'}))),correct_answers:e.correct_answers.map((e=>({component:e.answer,scale:e.answer_original_score}))),user_score:e.user_answers_score||0,full_mark:e.correct_answer_score||0,explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631 \u0639\u0627\u0645'})));z({final_score:parseFloat(r.user_total_score)||0,duration_final:parseFloat(r.duration_final)||0,remarks:r.result[0]?.explanation||'\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a',responses:t}),v({full_mark:parseFloat(r.exam_total_score)||0}),S(b,{final_score:parseFloat(r.user_total_score)||0,duration_final:parseFloat(r.duration_final)||0,remarks:r.result[0]?.explanation||'\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645'}),clearInterval(e),C(!1)}else'failed'===r.status&&(clearInterval(e),C(!1),console.error('Evaluation failed:',r.error_message))}),3e3):(console.error('Unexpected initial status:',r.status),C(!1))}catch(e){C(!1),console.error('Evaluation initiation failed:',e)}})(),()=>{e&&clearInterval(e)}}),[b,y,h]);const E=(e,r)=>{const t=e/r*100;return t>=80?'#4CAF50':t>=50?'#FF9800':'#F44336'},W=B/60*100;return(0,_.jsx)(l.default,{contentContainerStyle:w.scrollContainer,children:j?(0,_.jsxs)(c.default,{style:w.loadingContainer,children:[(0,_.jsx)(p.CircularProgress,{size:120,strokeWidth:12,progress:W,unit:"s",textColor:a.default.backgroundLinear1,progressColor:a.default.backgroundLinear1,backgroundColor:"#EFEEFC",fontSize:28}),(0,_.jsx)(t.default,{style:w.loadingText,children:"\u062c\u0627\u0631\u064a \u062a\u0642\u064a\u064a\u0645 \u0625\u062c\u0627\u0628\u0627\u062a\u0643 \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a... (\u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631)"})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(c.default,{style:w.header,children:[(0,_.jsxs)(t.default,{style:[w.finalScore,{color:A?.full_mark?E(F.final_score,A.full_mark):'#333'}],children:["\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629: ",F.final_score,"/",A?.full_mark||'\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631']}),(0,_.jsxs)(t.default,{style:w.time,children:["\u0627\u0644\u0648\u0642\u062a: ",(e=>{const r=parseFloat(e);if(isNaN(r)||r<0)return'0:00';return`${Math.floor(r/60)}:${Math.floor(r%60).toString().padStart(2,'0')}`})(F.duration_final)]}),(0,_.jsx)(t.default,{style:[w.remarks,{color:A?.full_mark?E(F.final_score,A.full_mark):'#777'}],children:F.remarks})]}),F.responses.map(((e,r)=>(0,_.jsxs)(c.default,{style:w.responseCard,children:[(0,_.jsx)(t.default,{style:w.question,children:e.question}),(0,_.jsxs)(c.default,{style:w.responseContainer,children:[(0,_.jsx)(t.default,{style:w.responseLabel,children:"\u0625\u062c\u0627\u0628\u062a\u0643:"}),e.user_response.map(((e,r)=>(0,_.jsxs)(c.default,{style:w.responseItem,children:[(0,_.jsxs)(t.default,{style:[w.responseText,{color:'green'===e.status?'#4CAF50':'orange'===e.status?'#FF9800':'#F44336'}],children:[e.text," (",e.partial_score,"/",e.max_score,")"]}),(0,_.jsx)(t.default,{style:w.explanationText,children:e.explanation})]},r)))]}),(0,_.jsxs)(c.default,{style:w.correctAnswersContainer,children:[(0,_.jsx)(t.default,{style:w.correctAnswersLabel,children:"\u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629:"}),e.correct_answers.map(((e,r)=>(0,_.jsxs)(t.default,{style:[w.correctAnswerText,{color:'#555'}],children:[e.component," (",e.scale,")"]},r)))]}),(0,_.jsxs)(t.default,{style:w.marks,children:["\u0627\u0644\u0639\u0644\u0627\u0645\u0629: ",e.user_score,"/",e.full_mark]}),(0,_.jsx)(t.default,{style:w.explanation,children:e.explanation})]},r))),(0,_.jsx)(c.default,{style:w.bottomSpacer})]})})};const w=i.default.create({scrollContainer:{padding:20,paddingBottom:100,backgroundColor:a.default.background},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center',minHeight:.4*h},loadingText:{marginTop:20,fontSize:18,color:a.default.backgroundLinear1,textAlign:'center'},header:{alignItems:'flex-end',marginBottom:30,borderBottomWidth:1,borderBottomColor:'#e0e0e0',paddingBottom:15},finalScore:{fontSize:28,fontWeight:'bold',textAlign:'right'},time:{fontSize:16,color:a.default.backgroundLinear1,marginTop:10,textAlign:'right'},remarks:{fontSize:18,marginTop:10,textAlign:'right'},responseCard:{backgroundColor:a.default.white,borderRadius:12,padding:15,marginBottom:15,shadowColor:'#000',shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3,borderWidth:1,borderColor:'#f0f0f0'},question:{fontSize:16,fontWeight:'bold',color:'#333',marginBottom:10,textAlign:'right'},responseContainer:{marginBottom:10},responseLabel:{fontSize:14,fontWeight:'600',color:'#555',textAlign:'right'},responseItem:{marginTop:4},responseText:{fontSize:14,textAlign:'right'},explanationText:{fontSize:12,color:'#777',textAlign:'right',marginTop:2},correctAnswersContainer:{marginBottom:10},correctAnswersLabel:{fontSize:14,fontWeight:'600',color:'#555',textAlign:'right'},correctAnswerText:{fontSize:14,color:'#4CAF50',textAlign:'right'},marks:{fontSize:14,fontWeight:'600',color:'#333',textAlign:'right'},explanation:{fontSize:14,color:'#777',textAlign:'right',marginTop:5},footerContainer:{backgroundColor:a.default.background,paddingBottom:40,paddingHorizontal:20},exitButton:{marginHorizontal:'auto',paddingHorizontal:60,backgroundColor:a.default.backgroundLinear1,borderRadius:8},bottomSpacer:{height:20}})}),1667,[1,1483,1101,372,366,16,284,283,29,281,799,1547,1668,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.CircularProgress=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n})(_r(d[4])),s=_r(d[5]);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}const{height:a}=r.default.get('screen');_e.CircularProgress=({size:e=100,strokeWidth:r=10,progress:i=0,waitingDuration:a=15,unit:l="s",textColor:c="#333",progressColor:u="#3D84EE",backgroundColor:f="#EFEEFC",fontSize:p=24})=>{const h=(e-r)/2,y=2*Math.PI*h,j=y-i/100*y;return(0,s.jsxs)(n.default,{style:{alignItems:'center',justifyContent:'center'},children:[(0,s.jsxs)(o.default,{width:e,height:e,children:[(0,s.jsx)(o.Circle,{stroke:f,strokeWidth:r,fill:"transparent",r:h,cx:e/2,cy:e/2}),(0,s.jsx)(o.Circle,{stroke:u,strokeWidth:r,fill:"transparent",r:h,cx:e/2,cy:e/2,strokeDasharray:y,strokeDashoffset:j,strokeLinecap:"round",transform:`rotate(-90, ${e/2}, ${e/2})`})]}),(0,s.jsx)(n.default,{style:{position:'absolute',height:e,width:e,alignItems:'center',justifyContent:'center'},children:(0,s.jsxs)(t.default,{style:{paddingTop:4,fontSize:p,color:c},children:[Math.ceil(i/100*a),l," "]})})]})}}),1668,[1,1101,284,281,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BacQuestionScreen=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r})(_r(d[1])),n=e(_r(d[2])),r=(e(_r(d[3])),e(_r(d[4])),e(_r(d[5])),e(_r(d[6]))),i=e(_r(d[7])),o=e(_r(d[8])),s=(e(_r(d[9])),e(_r(d[10]))),a=_r(d[11]),l=_r(d[12]),u=e(_r(d[13])),c=_r(d[14]),f=_r(d[15]),h=_r(d[16]),p=e(_r(d[17])),x=_r(d[18]),b=_r(d[19]),y=e(_r(d[20])),j=_r(d[21]),k=_r(d[22]);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}_e.BacQuestionScreen=()=>{const e=(0,b.useNavigation)(),{globalTime:n,questions:r,currentQuestionIndex:a,isLoading:l,userResponses:f,setUserResponses:x,isSubmitted:y,setTimeTaken:S,timeTaken:C,progress:z,submitResponse:B}=(0,c.useBacExam)(),v=r[a],[R,L]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(v){const e=v.correction?.length||1;L(Array(e).fill(140)),f.length!==e&&x(Array(e).fill(""))}}),[v,x]),(0,t.useEffect)((()=>{if(!y&&!l){const e=setInterval((()=>S((e=>e+1))),1e3);return()=>clearInterval(e)}}),[y,l,S]);const T=(e,t)=>{const n=[...f];n[t]=e,x(n)},I=(e,t)=>{L((n=>{const r=[...n];return r[t]=e>140?e:140,r}))};return l||!v?(0,k.jsx)(_,{}):(0,k.jsx)(w,{currentQuestion:v,handleSubmit:async()=>{await B(v.id,f,C)},children:(0,k.jsxs)(s.default,{style:{flex:1},children:[(0,k.jsx)(s.default,{style:{backgroundColor:u.default.backgroundLinear1,paddingBottom:20,borderBottomLeftRadius:26,borderBottomRightRadius:26},children:(0,k.jsx)(s.default,{style:{paddingVertical:20,paddingHorizontal:20,borderRadius:14,backgroundColor:u.default.backgroundLinear2,marginHorizontal:20},children:(0,k.jsx)(p.default,{style:{color:u.default.white,fontSize:20,textAlign:"right"},children:v.question})})}),(0,k.jsx)(h.TimerCounter,{timeTaken:n,label:"\u0627\u0644\u0648\u0642\u062a"}),(0,k.jsxs)(s.default,{style:{paddingTop:7,gap:8},children:[(0,k.jsxs)(s.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingRight:20},children:[(0,k.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-end",backgroundColor:u.default.backgroundLinear2,borderBottomRightRadius:20,borderTopRightRadius:20,paddingLeft:20,paddingRight:7,paddingVertical:3},onPress:()=>e.openDrawer(),children:[(0,k.jsx)(p.default,{style:{fontSize:20,marginBottom:-2,color:u.default.background},fontWeight:"semiBold",children:"\u0627\u0644\u0633\u0624\u0627\u0644"}),(0,k.jsx)(j.DoubleChevronRight,{size:30,color:u.default.background})]}),(0,k.jsx)(p.default,{style:{textAlign:"right",paddingHorizontal:10,color:u.default.backgroundLinear1,fontSize:20},fontWeight:"semiBold",children:"\u0625\u062c\u0627\u0628\u062a\u064a"})]}),(0,k.jsx)(s.default,{style:{paddingHorizontal:20,paddingTop:10},children:v.correction.map(((e,t)=>(0,k.jsxs)(s.default,{style:{marginBottom:10},children:[e.title&&(0,k.jsx)(p.default,{style:{color:u.default.backgroundLinear1,textAlign:"right",fontSize:16},children:e.title}),(0,k.jsx)(i.default,{value:f[t]||"",onChangeText:e=>T(e,t),multiline:!0,style:{borderWidth:1,borderColor:u.default.backgroundLinear1,padding:10,minHeight:140,height:R[t],textAlignVertical:"top",textAlign:"right",borderRadius:7},onContentSizeChange:e=>I(e.nativeEvent.contentSize.height,t)})]},t)))}),(0,k.jsx)(s.default,{style:{height:69}})]})]})})};const w=({children:e,currentQuestion:t,handleSubmit:n})=>{const i=(0,b.useNavigation)(),{isLoading:h,questions:x,handleOnBackPressed:j,thisSession:S,openedSession:w,setTimeTaken:C,setUserResponses:_,currentQuestionIndex:z,setCurrentQuestionIndex:B,isSubmitted:v,setIsSubmitted:R,userResponses:L,setIsFetching:T,isFetching:I,progress:P}=(0,c.useBacExam)(),A=async()=>{if(z<x.length-1){B(z+1);const e=x[z+1],t=e.correction?.length||1,n=P.find((t=>t.bac_question_id===e.id));if(n&&n.user_responses)try{const e=JSON.parse(n.user_responses);_(e.slice(0,t))}catch(e){console.error("Error parsing user_responses:",e),_(Array(t).fill(""))}else _(Array(t).fill(""));R(!1),C(0)}else i.dispatch(b.CommonActions.reset({index:0,routes:[{name:y.default.BacExamFinalScoreScreen,params:{userSessionId:S.user_session_uuid,bacSessionId:w.id}}]}))},D=()=>{if(z>0){B(z-1);const e=x[z-1],t=e.correction?.length||1,n=P.find((t=>t.bac_question_id===e.id));if(n&&n.user_responses)try{const e=JSON.parse(n.user_responses);_(e.slice(0,t))}catch(e){console.error("Error parsing user_responses:",e),_(Array(t).fill(""))}else _(Array(t).fill(""));R(n?.is_completed||!1),C(n?.time_taken||0)}},O=L.length===t.correction.length&&L.every((e=>""!==e.trim()));return(0,k.jsxs)(s.default,{style:{flex:1,position:"relative",backgroundColor:u.default.background},children:[(0,k.jsxs)(s.default,{style:{backgroundColor:u.default.backgroundLinear1,gap:14,paddingBottom:20,paddingTop:4},children:[(0,k.jsxs)(s.default,{style:{paddingHorizontal:10,paddingRight:20,backgroundColor:u.default.backgroundLinear1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:7},children:[(0,k.jsx)(o.default,{hitSlop:{top:20,left:20,right:40,bottom:20},onPress:j,style:{height:30},children:(0,k.jsx)(a.ChevronLeftIcon,{color:u.default.background,size:30})}),(0,k.jsxs)(s.default,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",gap:10},children:[(0,k.jsxs)(p.default,{style:{fontSize:16,color:"white",textAlign:"right"},children:[z+1,"/",x.length]}),(0,k.jsxs)(p.default,{style:{flex:1,fontSize:16,color:"white",textAlign:"right"},numberOfLines:1,ellipsizeMode:"tail",children:[S?.title," "]})]})]}),(0,k.jsx)(f.ProgressIndicator,{})]}),(0,k.jsx)(r.default,{contentContainerStyle:{flexGrow:1},bounces:!1,children:e}),(0,k.jsxs)(s.default,{style:{marginTop:"auto",paddingBottom:20,flexDirection:'row',justifyContent:'space-between',paddingHorizontal:20},children:[(0,k.jsx)(l.SubmitButton,{enabledText:v?I?'':"\u0627\u0644\u062a\u0627\u0644\u064a":"\u0625\u0631\u0633\u0627\u0644",onPress:async()=>{R(!0),await n(),A()},disabledText:v?I?'':"\u0627\u0644\u062a\u0627\u0644\u064a":"\u0625\u0631\u0633\u0627\u0644",isDisabled:I||!O,isFetching:I,style:{flex:1,paddingHorizontal:60}}),z>0&&(0,k.jsx)(l.SubmitButton,{enabledText:"\u0627\u0644\u0633\u0627\u0628\u0642",onPress:async()=>{!v&&O&&(T(!0),await n(),T(!1)),D()},disabledText:"\u0627\u0644\u0633\u0627\u0628\u0642",isDisabled:0===z,isFetching:!1,style:{backgroundColor:"transparent",paddingLeft:40},textStyle:{color:u.default.backgroundLinear1}})]})]})},{width:C}=n.default.get("screen"),_=()=>{const{handleOnBackPressed:e}=(0,c.useBacExam)();return(0,k.jsxs)(s.default,{style:{flex:1,backgroundColor:u.default.background},children:[(0,k.jsx)(s.default,{style:{borderBottomStartRadius:26,borderBottomEndRadius:26,overflow:"hidden"},children:(0,k.jsxs)(s.default,{style:{backgroundColor:u.default.backgroundLinear1,gap:14,paddingBottom:20,paddingTop:4},children:[(0,k.jsxs)(s.default,{style:{paddingHorizontal:10,paddingRight:20,backgroundColor:u.default.backgroundLinear1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:7},children:[(0,k.jsx)(o.default,{hitSlop:{top:20,left:20,right:40,bottom:20},onPress:e,style:{width:30,height:30},children:(0,k.jsx)(a.ChevronLeftIcon,{color:u.default.background,size:30})}),(0,k.jsxs)(s.default,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:10},children:[(0,k.jsx)(s.default,{style:{height:20,width:100},children:(0,k.jsx)(x.GeneralSkeleton,{})}),(0,k.jsx)(s.default,{style:{height:20,width:100},children:(0,k.jsx)(x.GeneralSkeleton,{})})]})]}),(0,k.jsx)(f.ProgressIndicator,{}),(0,k.jsx)(s.default,{style:{paddingVertical:20,paddingHorizontal:20,borderRadius:14,backgroundColor:u.default.backgroundLinear2,marginHorizontal:20},children:(0,k.jsx)(s.default,{style:{height:50,opacity:.2},children:(0,k.jsx)(x.GeneralSkeleton,{})})})]})}),(0,k.jsx)(s.default,{style:{height:20,width:C-40,marginHorizontal:"auto",marginTop:10},children:(0,k.jsx)(x.GeneralSkeleton,{})})]})}}),1669,[1,16,284,552,1521,85,283,355,1100,1557,281,1535,1483,366,1666,1670,1671,1101,1538,857,973,1672,370]);
__d((function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressIndicator=void 0;o(r(d[1]));var t=o(r(d[2])),n=o(r(d[3])),s=r(d[4]),c=r(d[5]);e.ProgressIndicator=()=>{const{questions:o,currentQuestionIndex:n}=(0,s.useBacExam)(),l=o=>o<n?"#12AD41":o===n?"#FFA500":"#FFFFFF20";return(0,c.jsx)(t.default,{style:u.container,children:o.map(((o,n)=>(0,c.jsx)(t.default,{style:[u.progressBar,{backgroundColor:l(n)}]},o.id)))})};const u=n.default.create({container:{flexDirection:"row-reverse",gap:10,paddingHorizontal:20},progressBar:{height:8,flex:1,borderRadius:100}})}),1670,[1,16,281,29,1666,370]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.TimerCounter=void 0;var l=t(r(d[1])),o=(t(r(d[2])),t(r(d[3]))),n=t(r(d[4])),s=r(d[5]);e.TimerCounter=({timeTaken:t,label:u="\u0627\u0644\u0648\u0642\u062a"})=>{const c=Math.floor(t/60).toString().padStart(2,"0"),f=(t%60).toString().padStart(2,"0");return(0,s.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"center",gap:10,paddingHorizontal:20,paddingVertical:10},children:[(0,s.jsxs)(n.default,{style:{color:l.default.backgroundLinear1},children:[c,":",f]}),(0,s.jsx)(o.default,{style:{backgroundColor:l.default.progressBackground,flex:1,borderRadius:100,overflow:"hidden",flexDirection:"row-reverse",alignItems:"center"},children:(0,s.jsx)(o.default,{style:{backgroundColor:l.default.progressFill,width:`${Math.min(t/300*100,100)}%`,height:10,borderRadius:100,overflow:"hidden"}})}),(0,s.jsx)(n.default,{style:{color:l.default.backgroundLinear1},children:u})]})}}),1671,[1,366,16,281,255,370]);
__d((function(g,_r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.DoubleChevronRight=void 0;n(_r(d[0]));var e=n(_r(d[1])),t=_r(d[2]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var l=i?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(o,u,l):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}_e.DoubleChevronRight=({size:r=24,show:n=!0,color:o="#5252E1"})=>(0,t.jsx)(e.default,{width:r,height:r,viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)(e.Path,{d:"M12 18l6-6-6-6M6 18l6-6-6-6",stroke:o,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),1672,[16,1486,370]);
__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BacExamFinalScoreScreen=void 0;var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=e(_r(d[4])),a=e(_r(d[5])),s=_r(d[6]),l=e(_r(d[7])),i=_r(d[8]),c=_r(d[9]),u=e(_r(d[10])),f=e(_r(d[11])),p=e(_r(d[12])),x=_r(d[13]),h=_r(d[14]);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}r.default.get('screen').height;const y=(e,t)=>{const r=e/t*100;return r>=80?'#4CAF50':r>=50?'#FF9800':'#F44336'},b=e=>{const t=parseFloat(String(e));if(isNaN(t)||t<0)return'0:00';return`${Math.floor(t/60)}:${Math.floor(t%60).toString().padStart(2,'0')}`},j=e=>e.includes('\u0635\u062d\u064a\u062d')||e.includes('\u0645\u0645\u062a\u0627\u0632')?'#4CAF50':e.includes('\u062e\u0637\u0623')||e.includes('\u064a\u062d\u062a\u0627\u062c \u0625\u0644\u0649 \u062a\u0639\u0632\u064a\u0632')?'#F44336':e.includes('\u0627\u062c\u0627\u0628\u0629 \u0646\u0627\u0642\u0635\u0629')||e.includes('\u0645\u062a\u0648\u0633\u0637')?'#FF9800':'#777',w=t.default.memo((({score:e,maxScore:r,duration:n,remarks:o,overview:s})=>{const i=(0,t.useMemo)((()=>r?y(e,r):'#333'),[e,r]);return(0,h.jsxs)(a.default,{style:C.header,children:[(0,h.jsxs)(l.default,{style:[C.finalScore,{color:i}],children:["\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629: ",e,"/",r||'\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631']}),(0,h.jsxs)(l.default,{style:C.time,children:["\u0627\u0644\u0648\u0642\u062a: ",b(n)]}),(0,h.jsx)(l.default,{style:[C.remarks,{color:i,paddingBottom:10}],children:o})]})})),k=({response:e})=>(0,h.jsxs)(a.default,{style:C.responseCard,children:[(0,h.jsx)(l.default,{style:C.question,children:e.question}),(0,h.jsxs)(a.default,{style:C.responseContainer,children:[(0,h.jsx)(l.default,{style:C.label,children:"\u0625\u062c\u0627\u0628\u062a\u0643:"}),e.user_response.map(((e,t)=>(0,h.jsxs)(a.default,{children:[(0,h.jsxs)(l.default,{style:[C.responseText,{color:j(e.explanation)}],children:[e.text,e.show_score&&` (${e.score}/${e.correct_score})`]}),(0,h.jsx)(l.default,{style:[C.explanationText,{color:j(e.explanation)}],children:e.explanation})]},t)))]}),(0,h.jsxs)(a.default,{style:C.responseContainer,children:[(0,h.jsx)(l.default,{style:C.label,children:"\u0627\u0644\u0625\u062c\u0627\u0628\u0629 \u0627\u0644\u0635\u062d\u064a\u062d\u0629:"}),e.correct_answers.map(((e,t)=>{const r=e.component.split('\n').filter((e=>''!==e.trim()));return(0,h.jsxs)(a.default,{children:[r.map(((e,t)=>(0,h.jsxs)(l.default,{style:C.correctAnswerText,children:["- ",e]},t))),(0,h.jsxs)(l.default,{style:[C.correctAnswerText,{color:'#333'}],children:["( \u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0645\u0642\u0628\u0648\u0644\u0629",' ',e.nb_valid_options," ",' ',"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629",' ',e.scale," ",' ',")"]})]},t)}))]}),(0,h.jsxs)(l.default,{style:C.marks,children:["\u0627\u0644\u062f\u0631\u062c\u0629: ",e.user_answers_score,"/",e.correct_answer_score]}),(0,h.jsx)(l.default,{style:[C.explanation,{color:j(e.explanation)}],children:e.explanation})]}),v=({progress:e,waitingDuration:t,onRetry:r})=>(0,h.jsx)(a.default,{style:C.loadingContainer,children:e>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.CircularProgress,{size:120,strokeWidth:12,progress:e,waitingDuration:t,unit:"s",textColor:p.default.backgroundLinear1,progressColor:p.default.backgroundLinear1,backgroundColor:"#EFEEFC",fontSize:28}),(0,h.jsx)(l.default,{style:C.loadingText,children:"\u062a\u0642\u064a\u064a\u0645 \u0625\u062c\u0627\u0628\u0627\u062a\u0643 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a... (\u064a\u0631\u062c\u0649 \u0627\u0644\u0627\u0646\u062a\u0638\u0627\u0631)"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.default,{style:C.errorText,children:"\u0641\u0634\u0644 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0646\u062a\u0627\u0626\u062c. \u062d\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."}),(0,h.jsx)(i.SubmitButton,{enabledText:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629",onPress:r,style:C.retryButton})]})}),S=t.default.memo((()=>(0,h.jsx)(a.default,{style:C.topBar,children:(0,h.jsx)(l.default,{style:C.topBarText,children:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629"})})));_e.BacExamFinalScoreScreen=({route:e})=>{const{userSessionId:r,bacSessionId:o}=e.params,l=(0,s.useNavigation)(),c=(0,u.default)((e=>e.updateBacSessionLocally)),{retryDelay:p}=(0,x.useBacExam)(),[_,y]=(0,t.useState)(!0),[b,j]=(0,t.useState)({final_score:0,duration_final:0,remarks:'',responses:[],performance_overview:''}),[B,T]=(0,t.useState)(),[F,A]=(0,t.useState)(60),z=(0,t.useRef)(null),I=(0,t.useCallback)((async(e=!1)=>{if(r)try{const{data:t}=await f.default.post(`bac/exam-session/finalize-bulk/${r}`,{try_again:e});return t}catch(e){throw console.error('\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0625\u0646\u0647\u0627\u0621:',e),e}}),[r]),P=(0,t.useCallback)((e=>{console.log('Processing data:',e);const t=e.result.questions.map((e=>({question:e.question||'\u0627\u0644\u0633\u0624\u0627\u0644 \u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631',user_response:e.user_answers.map((e=>({text:e.answer,explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631 \u0645\u0642\u062f\u0645',score:e.score,correct_score:e.correct_score,show_score:e.show_score}))),correct_answers:e.correct_answers.map((e=>({component:e.answer,scale:e.answer_original_score,nb_valid_options:e.nb_valid_options}))),user_answers_score:e.user_answers_score||0,correct_answer_score:e.correct_answer_score||0,explanation:e.explanation||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0641\u0633\u064a\u0631 \u0639\u0627\u0645'})));const r={final_score:parseFloat(e.user_total_score)||0,duration_final:parseFloat(e?.duration_final)||0,remarks:e.result.questions[0]?.explanation||'\u062a\u0645 \u0627\u0644\u062a\u0642\u064a\u064a\u0645 \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a',responses:t,performance_overview:e.result.performance_overview||'\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0642\u064a\u064a\u0645 \u0639\u0627\u0645 \u0645\u062a\u0627\u062d'};j(r),T({full_mark:parseFloat(e.exam_total_score)||0}),c(o,r),y(!1)}),[o,c]),M=(0,t.useCallback)((()=>{z.current&&clearInterval(z.current),z.current=setInterval((()=>{A((e=>e<=1?(clearInterval(z.current),0):e-1))}),1e3)}),[]);(0,t.useEffect)((()=>{if(_)return M(),()=>{z.current&&clearInterval(z.current)};z.current&&clearInterval(z.current)}),[_,M]),(0,t.useEffect)((()=>{let e;return(async()=>{try{const t=await I(!0);'completed'===t?.status&&t.result?P(t):'processing'===t?.status&&(e=setInterval((async()=>{const t=await I(!1);'completed'===t?.status&&t.result&&(P(t),clearInterval(e))}),p))}catch(e){console.log('Unexpected status:',e),y(!0)}})(),()=>clearInterval(e)}),[I,P,p]);const W=(0,t.useCallback)((()=>{l.goBack(),l.goBack()}),[l]),E=(0,t.useCallback)((()=>{let e;return A(60),y(!0),M(),I(!0).then((t=>{console.log('reposne: ',t.status),'completed'===t?.status&&t.result?P(t):'processing'===t?.status&&(e=setInterval((async()=>{const t=await I(!1);'completed'===t?.status&&t.result&&(P(t),clearInterval(e))}),p))})).catch((()=>{})),()=>clearInterval(e)}),[I,P,M,p]),L=(0,t.useMemo)((()=>F/60*100),[F]);return(0,h.jsxs)(a.default,{style:C.container,children:[(0,h.jsx)(S,{}),(0,h.jsxs)(n.default,{contentContainerStyle:C.scrollContent,children:[_?(0,h.jsx)(v,{progress:L,waitingDuration:60,onRetry:E}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w,{score:b.final_score,maxScore:B?.full_mark,duration:b?.duration_final,remarks:b.remarks,overview:b.performance_overview}),b.responses.map(((e,t)=>(0,h.jsx)(k,{response:e},t)))]}),(0,h.jsx)(i.SubmitButton,{enabledText:"\u062e\u0631\u0648\u062c",disabledText:"",onPress:W,isDisabled:L>0&&_,isFetching:L>0&&_,style:C.exitButton})]})]})};const C=o.default.create({container:{flex:1,backgroundColor:p.default.background},topBar:{backgroundColor:p.default.backgroundLinear1,padding:10,alignItems:'center'},topBarText:{fontSize:16,color:'white'},scrollContent:{flexGrow:1,padding:20,paddingBottom:40},header:{alignItems:'flex-end',marginBottom:20,borderBottomWidth:1,borderBottomColor:'#e0e0e0'},finalScore:{fontSize:24,fontWeight:'bold',textAlign:'right'},time:{fontSize:16,color:p.default.backgroundLinear1,marginTop:5,textAlign:'right'},remarks:{fontSize:16,marginTop:5,textAlign:'right'},responseCard:{backgroundColor:p.default.white,borderRadius:12,padding:15,marginBottom:15,elevation:3},question:{fontSize:16,fontWeight:'bold',color:'#333',marginBottom:10,textAlign:'right'},responseContainer:{marginBottom:10},label:{fontSize:14,fontWeight:'600',color:'#555',textAlign:'right'},responseText:{fontSize:14,textAlign:'right',marginTop:4},explanationText:{fontSize:12,textAlign:'right',marginTop:2},correctAnswerText:{fontSize:14,color:'#4CAF50',textAlign:'right',marginTop:4},marks:{fontSize:14,fontWeight:'600',color:'#333',textAlign:'right',marginTop:5},explanation:{fontSize:14,textAlign:'right',marginTop:5},loadingContainer:{flex:1,justifyContent:'center',alignItems:'center'},loadingText:{marginTop:20,fontSize:16,color:p.default.backgroundLinear1,textAlign:'center'},errorText:{fontSize:16,color:'#F44336',textAlign:'center',marginBottom:20},retryButton:{backgroundColor:p.default.backgroundLinear1,borderRadius:8,width:150},exitButton:{marginTop:'auto',backgroundColor:p.default.backgroundLinear1,borderRadius:8}})}),1673,[1,16,284,283,29,281,857,1101,1483,1668,1547,799,366,1666,370]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DrawerContent",{enumerable:!0,get:function(){return n.DrawerContent}}),Object.defineProperty(e,"DrawerContentScrollView",{enumerable:!0,get:function(){return u.DrawerContentScrollView}}),Object.defineProperty(e,"DrawerItem",{enumerable:!0,get:function(){return o.DrawerItem}}),Object.defineProperty(e,"DrawerItemList",{enumerable:!0,get:function(){return c.DrawerItemList}}),Object.defineProperty(e,"DrawerProgressContext",{enumerable:!0,get:function(){return l.DrawerProgressContext}}),Object.defineProperty(e,"DrawerStatusContext",{enumerable:!0,get:function(){return b.DrawerStatusContext}}),Object.defineProperty(e,"DrawerToggleButton",{enumerable:!0,get:function(){return w.DrawerToggleButton}}),Object.defineProperty(e,"DrawerView",{enumerable:!0,get:function(){return f.DrawerView}}),Object.defineProperty(e,"createDrawerNavigator",{enumerable:!0,get:function(){return t.createDrawerNavigator}}),Object.defineProperty(e,"getDrawerStatusFromState",{enumerable:!0,get:function(){return D.getDrawerStatusFromState}}),Object.defineProperty(e,"useDrawerProgress",{enumerable:!0,get:function(){return l.useDrawerProgress}}),Object.defineProperty(e,"useDrawerStatus",{enumerable:!0,get:function(){return s.useDrawerStatus}});var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=r(d[3]),c=r(d[4]),w=r(d[5]),f=r(d[6]),b=r(d[7]),D=r(d[8]),s=r(d[9]),l=r(d[10])}),1674,[1675,1689,1690,1692,1691,1693,1676,1687,1688,1696,1677]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createDrawerNavigator=function(t){return(0,s.createNavigatorFactory)(l)(t)};var n=t(r(d[1])),s=r(d[2]),o=r(d[3]),u=r(d[4]);const c=["id","initialRouteName","defaultStatus","backBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function l(t){let{id:l,initialRouteName:v,defaultStatus:N="closed",backBehavior:f,children:L,layout:y,screenListeners:h,screenOptions:B,screenLayout:S,UNSTABLE_router:_}=t,p=(0,n.default)(t,c);const{state:b,descriptors:O,navigation:j,NavigationContent:w}=(0,s.useNavigationBuilder)(s.DrawerRouter,{id:l,initialRouteName:v,defaultStatus:N,backBehavior:f,children:L,layout:y,screenListeners:h,screenOptions:B,screenLayout:S,UNSTABLE_router:_});return(0,u.jsx)(w,{children:(0,u.jsx)(o.DrawerView,Object.assign({},p,{defaultStatus:N,state:b,descriptors:O,navigation:j}))})}}),1675,[1,30,857,1676,370]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerView=function(e){let{navigation:a}=e,n=(0,t.default)(e,S);return(0,w.jsx)(r.SafeAreaProviderCompat,{children:(0,w.jsx)(O,Object.assign({navigation:a},n))})};var t=e(_r(d[1])),r=_r(d[2]),a=_r(d[3]),n=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a})(_r(d[4])),o=(e(_r(d[5])),e(_r(d[6]))),i=_r(d[7]),s=_r(d[8]),l=e(_r(d[9])),u=_r(d[10]),c=_r(d[11]),f=_r(d[12]),p=_r(d[13]),h=_r(d[14]),y=_r(d[15]),b=_r(d[16]),w=_r(d[17]);const S=["navigation"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}const j=16,k=e=>(0,w.jsx)(h.DrawerContent,Object.assign({},e));function O({state:e,navigation:t,descriptors:h,defaultStatus:S,drawerContent:v=k,detachInactiveScreens:O=!0}){const{direction:x}=(0,a.useLocale)(),T=e.routes[e.index].key,{drawerHideStatusBarOnOpen:C,drawerPosition:B=('rtl'===x?'right':'left'),drawerStatusBarAnimation:R,drawerStyle:P,drawerType:L="front",configureGestureHandler:M,keyboardDismissMode:E,overlayColor:W="rgba(0, 0, 0, 0.5)",swipeEdgeWidth:_,swipeEnabled:A=!1,swipeMinDistance:H,overlayAccessibilityLabel:z}=h[T].options,[F,G]=n.useState([T]);F.includes(T)||G([...F,T]);const I=n.useRef(T);n.useEffect((()=>{const r=I.current;if(r!==T&&h[r]?.options.popToTopOnBlur){const n=e.routes.find((e=>e.key===r));'stack'===n?.state?.type&&n.state.key&&t.dispatch(Object.assign({},a.StackActions.popToTop(),{target:n.state.key}))}I.current=T}),[h,T,t,e.routes]);const K=(0,s.useSafeAreaFrame)(),{colors:V}=(0,a.useTheme)(),q=(0,p.getDrawerStatusFromState)(e),J=(0,l.default)((()=>{t.dispatch(Object.assign({},a.DrawerActions.openDrawer(),{target:e.key}))})),N=(0,l.default)((()=>{t.dispatch(Object.assign({},a.DrawerActions.closeDrawer(),{target:e.key}))})),Q=(0,l.default)((()=>{t.emit({type:'gestureStart',target:e.key})})),U=(0,l.default)((()=>{t.emit({type:'gestureEnd',target:e.key})})),X=(0,l.default)((()=>{t.emit({type:'gestureCancel',target:e.key})})),Y=(0,l.default)((r=>{t.emit({type:'transitionStart',data:{closing:r},target:e.key})})),Z=(0,l.default)((r=>{t.emit({type:'transitionEnd',data:{closing:r},target:e.key})}));n.useEffect((()=>{if(q===S||'permanent'===L)return;return(0,u.addCancelListener)((()=>!!t.isFocused()&&('open'===S?J():N(),!0)))}),[S,q,L,N,J,t]);return(0,w.jsx)(f.DrawerStatusContext.Provider,{value:q,children:(0,w.jsx)(i.Drawer,{open:'closed'!==q,onOpen:J,onClose:N,onGestureStart:Q,onGestureEnd:U,onGestureCancel:X,onTransitionStart:Y,onTransitionEnd:Z,layout:K,direction:x,configureGestureHandler:M,swipeEnabled:A,swipeEdgeWidth:_,swipeMinDistance:H,hideStatusBarOnOpen:C,statusBarAnimation:R,keyboardDismissMode:E,drawerType:L,overlayAccessibilityLabel:z,drawerPosition:B,drawerStyle:[{backgroundColor:V.card,width:(0,r.getDefaultSidebarWidth)(K)},'permanent'===L&&('right'===B?{borderLeftColor:V.border,borderLeftWidth:o.default.hairlineWidth}:{borderRightColor:V.border,borderRightWidth:o.default.hairlineWidth}),'front'===L&&('left'===B?{borderTopRightRadius:j,borderBottomRightRadius:j}:{borderTopLeftRadius:j,borderBottomLeftRadius:j}),P],overlayStyle:{backgroundColor:W},renderDrawerContent:()=>(0,w.jsx)(c.DrawerPositionContext.Provider,{value:B,children:v({state:e,navigation:t,descriptors:h})}),children:(0,w.jsx)(b.MaybeScreenContainer,{enabled:O,hasTwoStates:!0,style:D.content,children:e.routes.map(((t,a)=>{const n=h[t.key],{lazy:i=!0}=n.options,s=e.index===a,l=e.preloadedRouteKeys.includes(t.key);if(i&&!F.includes(t.key)&&!s&&!l)return null;const{freezeOnBlur:u,header:c=({layout:e,options:a})=>(0,w.jsx)(r.Header,Object.assign({},a,{layout:e,title:(0,r.getHeaderTitle)(a,t.name),headerLeft:'left'===B&&null==a.headerLeft?e=>(0,w.jsx)(y.DrawerToggleButton,Object.assign({},e)):a.headerLeft,headerRight:'right'===B&&null==a.headerRight?e=>(0,w.jsx)(y.DrawerToggleButton,Object.assign({},e)):a.headerRight})),headerShown:f,headerStatusBarHeight:p,headerTransparent:S,sceneStyle:v}=n.options;return(0,w.jsx)(b.MaybeScreen,{style:[o.default.absoluteFill,{zIndex:s?0:-1}],visible:s,enabled:O,freezeOnBlur:u,shouldFreeze:!s&&!l,children:(0,w.jsx)(r.Screen,{focused:s,route:n.route,navigation:n.navigation,headerShown:f,headerStatusBarHeight:p,headerTransparent:S,header:c({layout:K,route:n.route,navigation:n.navigation,options:n.options}),style:v,children:n.render()})},t.key)}))})})})}const D=o.default.create({content:{flex:1}})}),1676,[1,30,985,857,16,85,29,1677,1014,868,1685,1686,1687,1688,1689,1693,1695,370]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Drawer",{enumerable:!0,get:function(){return o.Drawer}}),Object.defineProperty(e,"DrawerGestureContext",{enumerable:!0,get:function(){return t.DrawerGestureContext}}),Object.defineProperty(e,"DrawerProgressContext",{enumerable:!0,get:function(){return n.DrawerProgressContext}}),Object.defineProperty(e,"useDrawerProgress",{enumerable:!0,get:function(){return u.useDrawerProgress}});var t=r(d[0]),n=r(d[1]),u=r(d[2]),o=r(d[3])}),1677,[1678,1679,1680,1681]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerGestureContext=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.DrawerGestureContext=e.createContext(void 0)}),1678,[16]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerProgressContext=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.DrawerProgressContext=e.createContext(void 0)}),1679,[16]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDrawerProgress=function(){const t=e.useContext(r.DrawerProgressContext);if(void 0===t)throw new Error("Couldn't find a drawer. Is your component inside a drawer?");return t};var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0])),r=_r(d[1]);function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}}),1680,[16,1679]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Drawer=function({layout:e,direction:r="ltr",drawerPosition:u=('rtl'===r?'right':'left'),drawerStyle:y,drawerType:w="front",onClose:v,onTransitionStart:h,onTransitionEnd:b,open:x,overlayStyle:j,overlayAccessibilityLabel:P,renderDrawerContent:_,children:O,style:E}){const k=(0,n.default)(),D=e??k,L=(0,i.getDrawerWidth)({layout:D,drawerStyle:y}),M=(0,s.useFakeSharedValue)(x?1:0);t.useEffect((()=>{M.value=x?1:0}),[x,M]);const S=t.useRef(null),W=(0,l.default)((()=>{h?.(!1===x)})),C=(0,l.default)((()=>{b?.(!1===x)}));t.useEffect((()=>{const e=S.current;return e?.addEventListener('transitionstart',W),e?.addEventListener('transitionend',C),()=>{e?.removeEventListener('transitionstart',W),e?.removeEventListener('transitionend',C)}}),[C,W]);const T='permanent'===w||x,A='right'===u;let F=0;F=x||'back'===w?'rtl'===r?'left'===u?L-D.width:0:'left'===u?0:D.width-L:'rtl'===r?'left'===u?-D.width:L:'left'===u?-L:D.width;const X='permanent'!==w?{transition:'transform 0.3s',transform:[{translateX:F}]}:null,z='permanent'!==w?{transition:'transform 0.3s',transform:[{translateX:x?'front'===w?0:L*('left'===u?1:-1):0}]}:null;return(0,f.jsx)(a.default,{style:[p.container,E],children:(0,f.jsx)(o.DrawerProgressContext.Provider,{value:M,children:(0,f.jsxs)(a.default,{style:[p.main,{flexDirection:'permanent'===w?A&&'ltr'===r||!A&&'rtl'===r?'row':'row-reverse':'row'}],children:[(0,f.jsxs)(a.default,{style:[p.content,z],children:[(0,f.jsx)(a.default,{accessibilityElementsHidden:T&&'permanent'!==w,importantForAccessibility:T&&'permanent'!==w?'no-hide-descendants':'auto',style:p.content,children:O}),'permanent'!==w?(0,f.jsx)(c.Overlay,{open:x,progress:M,onPress:()=>v(),style:j,accessibilityLabel:P}):null]}),(0,f.jsx)(a.default,{ref:S,style:[p.drawer,{width:L,position:'permanent'===w?'relative':'absolute',zIndex:'back'===w?-1:0},X,y],children:_()})]})})})};var t=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&{}.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(n,l,o):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n})(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),a=e(_r(d[4])),l=e(_r(d[5])),o=_r(d[6]),i=_r(d[7]),s=_r(d[8]),c=_r(d[9]),f=_r(d[10]);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const p=r.default.create({container:{flex:1},drawer:{top:0,bottom:0,maxWidth:'100%',backgroundColor:'white'},content:{flex:1},main:{flex:1}})}),1681,[1,16,29,1430,281,868,1679,1682,1683,1684,370]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getDrawerWidth=function({layout:t,drawerStyle:o}){const{width:f=u(t)}=n.default.flatten(o)||{};if('string'==typeof f&&f.endsWith('%')){const n=Number(f.replace(/%$/,''));if(Number.isFinite(n))return t.width*(n/100)}return'number'==typeof f?f:0};var n=t(r(d[1]));const u=({width:t})=>t-56<=360?t-56:360}),1682,[1,29]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useFakeSharedValue=function(t){const n=e.useRef(null);null===n.current&&(n.current=new r(t));return n.current};var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(u,a,i):u[a]=e[a]}return u.default=e,n&&n.set(e,u),u})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}class r{_listeners=new Map;constructor(e){this._value=e}addListener(e,t){this._listeners.set(e,t)}removeListener(e){this._listeners.delete(e)}modify(e){this.value=void 0!==e?e(this.value):this.value}get(){return this.value}set(e){this.value=e}set value(e){this._value=e;for(const t of this._listeners.values())t(e)}get value(){return this._value}_isReanimatedSharedValue=!0}}),1683,[16]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.Overlay=function(t){let{open:n,onPress:y,style:p,accessibilityLabel:f="Close drawer"}=t,v=(0,s.default)(t,b);return(0,c.jsx)(o.default,Object.assign({},v,{style:[u.overlay,{opacity:n?1:0,pointerEvents:n?'auto':'none'},p],accessibilityElementsHidden:!n,importantForAccessibility:n?'auto':'no-hide-descendants',children:(0,c.jsx)(l.default,{onPress:y,style:[u.pressable,{pointerEvents:n?'auto':'none'}],accessibilityRole:"button",accessibilityLabel:f})}))};var s=t(r(d[1])),l=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),c=r(d[5]);const b=["open","onPress","style","accessibilityLabel"];const u=n.default.create({overlay:Object.assign({},n.default.absoluteFillObject,{backgroundColor:'rgba(0, 0, 0, 0.5)',WebkitTapHighlightColor:'transparent',transition:'opacity 0.3s'}),pressable:{flex:1}})}),1684,[1,30,1002,29,281,370]);
__d((function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.addCancelListener=void 0;_e.addCancelListener=e=>{const n=n=>{'Escape'===n.key&&e()};return document?.body?.addEventListener?.('keyup',n),()=>{document?.body?.removeEventListener?.('keyup',n)}}}),1685,[]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerPositionContext=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.DrawerPositionContext=e.createContext(void 0)}),1686,[16]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerStatusContext=void 0;var e=(function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var f=u?Object.getOwnPropertyDescriptor(e,a):null;f&&(f.get||f.set)?Object.defineProperty(o,a,f):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0]));function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}_e.DrawerStatusContext=e.createContext(void 0)}),1687,[16]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDrawerStatusFromState=function(t){if(null==t.history)throw new Error("Couldn't find the drawer status in the state object. Is it a valid state object of drawer navigator?");const o=t.history.find((t=>'drawer'===t.type));return o?.status??t.default??'closed'}}),1688,[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DrawerContent=function(t){let{descriptors:u,state:w}=t,y=(0,n.default)(t,l);const C=w.routes[w.index],j=u[C.key].options,{drawerContentStyle:p,drawerContentContainerStyle:f}=j;return(0,c.jsx)(s.DrawerContentScrollView,Object.assign({},y,{contentContainerStyle:f,style:p,children:(0,c.jsx)(o.DrawerItemList,Object.assign({descriptors:u,state:w},y))}))};var n=t(r(d[1])),s=r(d[2]),o=r(d[3]),c=r(d[4]);const l=["descriptors","state"]}),1689,[1,30,1690,1691,370]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerContentScrollView=void 0;var t=e(_r(d[1])),n=_r(d[2]),r=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r})(_r(d[3])),o=e(_r(d[4])),a=e(_r(d[5])),i=_r(d[6]),l=_r(d[7]),c=_r(d[8]);const f=["contentContainerStyle","style","children"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,a){let{contentContainerStyle:u,style:s,children:y}=e,w=(0,t.default)(e,f);const _=r.useContext(l.DrawerPositionContext),v=(0,i.useSafeAreaInsets)(),{direction:O}=(0,n.useLocale)(),b='rtl'===O?'left'===_:'right'===_;return(0,c.jsx)(o.default,Object.assign({},w,{ref:a,contentContainerStyle:[{paddingTop:12+v.top,paddingBottom:12+v.bottom,paddingStart:12+(b?0:v.left),paddingEnd:12+(b?v.right:0)},u],style:[p.container,s],children:y}))}_e.DrawerContentScrollView=r.forwardRef(s);const p=a.default.create({container:{flex:1}})}),1690,[1,30,857,16,283,29,1014,1686,370]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerItemList=function({state:n,navigation:o,descriptors:a}){const{buildHref:i}=(0,e.useLinkBuilder)(),l=n.routes[n.index],c=a[l.key].options,{drawerActiveTintColor:u,drawerInactiveTintColor:s,drawerActiveBackgroundColor:f,drawerInactiveBackgroundColor:p}=c;return n.routes.map(((l,c)=>{const v=c===n.index,{title:w,drawerLabel:y,drawerIcon:k,drawerLabelStyle:b,drawerItemStyle:P,drawerAllowFontScaling:_}=a[l.key].options;return(0,t.jsx)(r.DrawerItem,{route:l,href:i(l.name,l.params),label:void 0!==y?y:void 0!==w?w:l.name,icon:k,focused:v,activeTintColor:u,inactiveTintColor:s,activeBackgroundColor:f,inactiveBackgroundColor:p,allowFontScaling:_,labelStyle:b,style:P,onPress:()=>{o.emit({type:'drawerItemPress',target:l.key,canPreventDefault:!0}).defaultPrevented||o.dispatch(Object.assign({},v?e.DrawerActions.closeDrawer():e.CommonActions.navigate(l),{target:n.key}))}},l.key)}))};var e=_r(d[0]),r=((function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n(r);if(t&&t.has(e))return t.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,t&&t.set(e,o)})(_r(d[1])),_r(d[2])),t=_r(d[3]);function n(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(n=function(e){return e?t:r})(e)}}),1691,[857,16,1692,370]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.DrawerItem=function(e){const{colors:c,fonts:f}=(0,l.useTheme)(),{href:p,icon:b,label:y,labelStyle:v,focused:h=!1,allowFontScaling:w,activeTintColor:O=c.primary,inactiveTintColor:j=(0,a.default)(c.text).alpha(.68).rgb().string(),activeBackgroundColor:x=(0,a.default)(O).alpha(.12).rgb().string(),inactiveBackgroundColor:C="transparent",style:P,onPress:_,pressColor:k,pressOpacity:S=1,testID:T,accessibilityLabel:D}=e,I=(0,t.default)(e,s),{borderRadius:M=56}=n.default.flatten(P||{}),B=h?O:j,L=h?x:C,R=b?b({size:24,focused:h,color:B}):null;return(0,i.jsx)(o.default,Object.assign({collapsable:!1},I,{style:[u.container,{borderRadius:M,backgroundColor:L},P],children:(0,i.jsx)(r.PlatformPressable,{testID:T,onPress:_,accessibilityLabel:D,accessibilityRole:"button",accessibilityState:{selected:h},pressColor:k,pressOpacity:S,hoverEffect:{color:B},href:p,children:(0,i.jsxs)(o.default,{style:[u.wrapper,{borderRadius:M}],children:[R,(0,i.jsx)(o.default,{style:[u.label,{marginStart:R?12:0}],children:'string'==typeof y?(0,i.jsx)(r.Text,{numberOfLines:1,allowFontScaling:w,style:[u.labelText,{color:B},f.medium,v],children:y}):y({color:B,focused:h})})]})})}))};var t=e(_r(d[1])),r=_r(d[2]),l=_r(d[3]),a=e(_r(d[4])),n=((function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&{}.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(l,n,o):l[n]=e[n]}l.default=e,r&&r.set(e,l)})(_r(d[5])),e(_r(d[6]))),o=e(_r(d[7])),i=_r(d[8]);const s=["href","icon","label","labelStyle","focused","allowFontScaling","activeTintColor","inactiveTintColor","activeBackgroundColor","inactiveBackgroundColor","style","onPress","pressColor","pressOpacity","testID","accessibilityLabel"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const u=n.default.create({container:{overflow:'hidden'},wrapper:{flexDirection:'row',alignItems:'center',paddingVertical:11,paddingStart:16,paddingEnd:24},label:{marginEnd:12,marginVertical:4,flex:1},labelText:{lineHeight:24,textAlignVertical:'center'}})}),1692,[1,30,985,857,993,16,29,281,370]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.DrawerToggleButton=function(t){let{tintColor:l,accessibilityLabel:v="Show navigation menu",imageSource:w=u.default}=t,y=(0,o.default)(t,f);const j=(0,c.useNavigation)();return(0,b.jsx)(n.HeaderButton,Object.assign({},y,{accessibilityLabel:v,onPress:()=>j.dispatch(c.DrawerActions.toggleDrawer()),children:(0,b.jsx)(s.default,{resizeMode:"contain",source:w,fadeDuration:0,tintColor:l,style:h.icon})}))};var o=t(r(d[1])),n=r(d[2]),c=r(d[3]),s=t(r(d[4])),l=t(r(d[5])),u=t(r(d[6])),b=r(d[7]);const f=["tintColor","accessibilityLabel","imageSource"];const h=l.default.create({icon:{height:24,width:24,marginVertical:8,marginHorizontal:5}})}),1693,[1,30,985,857,312,29,1694,370]);
__d((function(g,r,i,a,m,e,d){m.exports={uri:"/assets/node_modules/@react-navigation/drawer/lib/module/views/assets/toggle-drawer-icon.ae74bb20586a731af545e6b00fe14a09.png",width:96,height:96}}),1694,[]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.MaybeScreen=function(e){let{visible:r,children:i}=e,l=(0,t.default)(e,c);if(s?.screensEnabled?.())return(0,a.jsx)(s.Screen,Object.assign({activityState:r?2:0},l,{children:i}));return(0,a.jsx)(n.ResourceSavingView,Object.assign({visible:r},l,{children:i}))},_e.MaybeScreenContainer=void 0;var t=e(_r(d[1])),n=_r(d[2]),r=((function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r)})(_r(d[3])),e(_r(d[4]))),a=_r(d[5]);const i=["enabled"],c=["visible","children"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}let s;try{s=_r(d[6])}catch(e){}_e.MaybeScreenContainer=e=>{let{enabled:n}=e,c=(0,t.default)(e,i);return s?.screensEnabled?.()?(0,a.jsx)(s.ScreenContainer,Object.assign({enabled:n},c)):(0,a.jsx)(r.default,Object.assign({},c))}}),1695,[1,30,985,16,281,370,1052]);
__d((function(g,_r,_i,_a,m,_e,d){"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.useDrawerStatus=function(){const r=e.useContext(t.DrawerStatusContext);if(void 0===r)throw new Error("Couldn't find a drawer. Is your component inside a drawer navigator?");return r};var e=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=u?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o})(_r(d[0])),t=_r(d[1]);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}}),1696,[16,1687]);
__d((function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.QuestionDrawerContent=void 0;var n=r(d[1]),l=t(r(d[2])),o=t(r(d[3])),s=r(d[4]),c=r(d[5]),u=t(r(d[6])),f=t(r(d[7])),x=r(d[8]);e.QuestionDrawerContent=t=>{const{navigation:h}=t,{questions:b,currentQuestionIndex:y,thisSession:j,globalTime:p}=(0,s.useBacExam)(),k=b[y]||{},w=k.sidebar||{type:"doc",content:[]};return(0,x.jsx)(n.DrawerContentScrollView,Object.assign({},t,{contentContainerStyle:{flexGrow:1},children:(0,x.jsxs)(o.default,{style:{padding:14,backgroundColor:f.default.background,borderRadius:10,flex:1},children:[(0,x.jsxs)(o.default,{style:{flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,x.jsx)(l.default,{onPress:()=>h.closeDrawer(),style:{},children:(0,x.jsx)(c.ChevronLeftIcon,{color:f.default.backgroundLinear1,size:30})}),(0,x.jsxs)(u.default,{style:{fontSize:16,color:f.default.backgroundLinear1,textAlign:"right",flex:1},children:["\u0627\u0644\u0633\u0624\u0627\u0644: ",k.question||"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"]})]}),(0,x.jsxs)(o.default,{style:{marginTop:10},children:[(0,x.jsxs)(u.default,{style:{fontSize:16,color:f.default.black,textAlign:"right",marginTop:10},children:["\u0627\u0644\u0631\u0642\u0645: ",y+1," \u0645\u0646 ",b.length]}),(0,x.jsxs)(u.default,{style:{fontSize:16,color:f.default.black,textAlign:"right",marginTop:10},children:["\u0627\u0644\u062c\u0644\u0633\u0629: ",j?.title||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"]}),(0,x.jsxs)(u.default,{style:{fontSize:16,color:f.default.black,textAlign:"right",marginTop:10},children:["\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a: ",p," \u062b\u0627\u0646\u064a\u0629"]}),(0,x.jsx)(o.default,{style:{width:"100%",height:2,backgroundColor:f.default.backgroundLinear1,borderRadius:100,marginVertical:10,opacity:.4}})]}),(0,x.jsxs)(o.default,{style:{marginTop:10},children:[(0,x.jsx)(u.default,{style:{fontSize:18,color:f.default.black,textAlign:"right",fontWeight:"bold"},children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629"}),(A=w.content,A.map(((t,n)=>{switch(t.type){case"heading":return(0,x.jsx)(u.default,{style:{fontSize:18,color:f.default.black,textAlign:t.attrs.textAlign||"right",fontWeight:t.content?.[0]?.marks?.some((t=>"bold"===t.type))?"bold":"normal",textDecorationLine:t.content?.[0]?.marks?.some((t=>"underline"===t.type))?"underline":"none",marginVertical:5},children:t.content?.[0]?.text||""},n);case"bulletList":return(0,x.jsx)(o.default,{style:{marginVertical:5},children:t.content.map(((t,n)=>(0,x.jsx)(o.default,{style:{flexDirection:"row",alignItems:"flex-start",marginVertical:2},children:(0,x.jsx)(u.default,{style:{fontSize:16,color:f.default.black,textAlign:t.content?.[0]?.attrs?.textAlign||"right",flex:1},children:t.content?.[0]?.content?.[0]?.text||""})},n)))},n);case"paragraph":return t.content&&0!==t.content.length?(0,x.jsx)(u.default,{style:{fontSize:16,color:f.default.black,textAlign:t.attrs.textAlign||"right",marginVertical:5},children:t.content?.[0]?.text||""},n):null;default:return null}})))]})]})}));var A}}),1697,[1,1674,1100,281,1666,1535,1101,366,370]);