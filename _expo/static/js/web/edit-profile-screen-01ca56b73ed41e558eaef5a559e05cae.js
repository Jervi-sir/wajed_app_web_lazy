__d((function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=_r(d[1]),l=e(_r(d[2])),n=_r(d[3]),r=_r(d[4]),o=_r(d[5]),a=e(_r(d[6])),i=_r(d[7]),s=_r(d[8]),u=_r(d[9]),c=e(_r(d[10])),f=(function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=v(t);if(l&&l.has(e))return l.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,l&&l.set(e,n),n})(_r(d[11])),h=e(_r(d[12])),p=e(_r(d[13])),x=e(_r(d[14])),y=e(_r(d[15])),j=e(_r(d[16])),b=e(_r(d[17])),w=e(_r(d[18])),S=_r(d[19]);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(v=function(e){return e?l:t})(e)}_e.default=()=>{const e=(0,o.useNavigation)(),s=(0,w.default)((e=>e.authProfile)),[h,p]=(0,f.useState)(s?.username),[x,j]=(0,f.useState)(s?.profile_image),[v,B]=(0,f.useState)(null),C=(0,w.default)((e=>e.updateAuthProfile)),[k,_]=(0,f.useState)(!1),{openBottomSheetFlatList:z,hideBottomSheet:T,setFooterBottomSheetComponent:O}=(0,r.useBottomSheet)();return(0,S.jsxs)(b.default,{style:{flex:1},children:[(0,S.jsx)(n.TopHeaderWrapper,{withWallet:!1,children:(0,S.jsxs)(b.default,{style:{flexDirection:'row-reverse',justifyContent:'flex-start',alignItems:'center',gap:20},children:[(0,S.jsx)(b.default,{style:{},children:(0,S.jsx)(b.default,{style:{backgroundColor:c.default.text,height:69,width:69,borderRadius:100,overflow:'hidden'},children:(0,S.jsx)(y.default,{source:{uri:x},style:{height:69,width:69}})})}),(0,S.jsxs)(b.default,{style:{flex:1},children:[(0,S.jsx)(l.default,{style:{color:'white',fontSize:16,textAlign:'right',flexWrap:'nowrap'},numberOfLines:2,ellipsizeMode:"tail",children:h}),(0,S.jsxs)(l.default,{style:{color:'white',fontSize:12,textAlign:'right'},children:["\u0627\u0646\u0636\u0645 \u0645\u0646\u0630 ",(0,i.dateToArabic)(s?.joined_since)]})]})]})}),(0,S.jsxs)(b.default,{style:{paddingHorizontal:20,gap:10,paddingTop:20},children:[(0,S.jsx)(b.default,{style:{paddingHorizontal:10},children:(0,S.jsx)(l.default,{style:{textAlign:'right',fontSize:24,color:c.default.backgroundLinear1},fontWeight:"extraBold",children:"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"})}),(0,S.jsxs)(b.default,{style:{paddingHorizontal:20,paddingVertical:10,backgroundColor:c.default.iconBackground,flexDirection:'row',justifyContent:'space-between',alignItems:'center',borderRadius:10,overflow:'hidden'},children:[(0,S.jsx)(b.default,{children:(0,S.jsx)(t.SubmitButton,{enabledText:'\u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0635\u0648\u0631\u0629',onPress:({store:e})=>{(0,u.hapticFeedback)('soft'),z({renderItem:()=>(0,S.jsx)(P,{handleOnChooseProfileUrl:e=>j(e)}),snapPoints:['50%','90%']})},style:{marginTop:0}})}),(0,S.jsx)(b.default,{style:{backgroundColor:c.default.text,height:69,width:69,borderRadius:100,overflow:'hidden'},children:(0,S.jsx)(y.default,{source:{uri:x},style:{height:69,width:69}})})]})]}),(0,S.jsxs)(b.default,{style:{flexDirection:'row',gap:10,paddingHorizontal:20,marginTop:'auto',marginBottom:40},children:[(0,S.jsx)(b.default,{style:{},children:(0,S.jsx)(t.SubmitButton,{enabledText:'\u0627\u0644\u0639\u0648\u062f\u0629',onPress:()=>e.goBack(),style:{marginTop:0,backgroundColor:'grey'}})}),(0,S.jsx)(b.default,{style:{flex:1},children:(0,S.jsx)(t.SubmitButton,{enabledText:'\u062d\u0641\u0638',onPress:async()=>{if(k)return null;try{_(!0);const t=await a.default.post('profile/update',{profile_image:x,username:h}),{my_account:l}=t.data;C(l),e.goBack()}catch(e){console.error('error: ',e)}finally{_(!1)}},style:{marginTop:0},isFetching:k,isDisabled:k,disabledText:"Updating"})})]})]})};const B=p.default.get('screen').width,C=B/3,P=({handleOnChooseProfileUrl:e=e=>{}})=>{const{setFooterBottomSheetComponent:n,hideBottomSheet:o}=(0,r.useBottomSheet)(),[i,u]=(0,f.useState)([]),[p,w]=(0,f.useState)(null),[v,B]=(0,f.useState)(!1),[P,k]=(0,f.useState)(null);(0,f.useEffect)((()=>{n((0,S.jsx)(b.default,{style:{paddingBottom:30,alignItems:'center'},children:(0,S.jsx)(t.SubmitButton,{enabledText:'\u062d\u0641\u0638',onPress:()=>o(),style:{paddingHorizontal:60}})}))}),[]);const _=async(e=1)=>{try{B(!0);const t=await a.default.get('profile/suggest-images',{params:{page:e}});u(t.data.images),w(t.data.next_page)}catch(e){}finally{B(!1)}},z=()=>{if(null===p)return null;_(p)};return(0,f.useEffect)((()=>{_()}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(x.default,{data:i,renderItem:({item:t,index:l})=>(0,S.jsxs)(j.default,{onPress:()=>{k(l),e(t)},style:{position:'relative',margin:4},activeOpacity:.69,children:[l===P&&(0,S.jsx)(b.default,{style:{position:'absolute',top:0,right:0,zIndex:99,width:C-8,height:C-8,borderColor:c.default.black,borderWidth:4,borderRadius:7}}),(0,S.jsx)(y.default,{source:{uri:t},style:{width:C-8,height:C-8}})]}),keyExtractor:e=>(0,s.generateUUID)(),numColumns:3,contentContainerStyle:{padding:0},showsVerticalScrollIndicator:!1,ListHeaderComponent:()=>(0,S.jsx)(b.default,{style:{paddingVertical:10},children:(0,S.jsx)(l.default,{style:{textAlign:'center',fontSize:14},children:"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629"})}),ListFooterComponent:()=>null!=p?(0,S.jsx)(b.default,{style:{position:'relative',zIndex:-1},children:(0,S.jsx)(b.default,{style:{height:100,width:'100%',justifyContent:'center',alignItems:'center'},children:(0,S.jsx)(h.default,{size:"small",color:c.default.black})})}):null,onEndReachedThreshold:.5,onEndReached:()=>{z()}})})}}),1568,[1,1483,1101,1522,372,857,799,1523,654,1548,366,16,1484,284,317,312,1100,281,851,370]);